"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{7595:(e,i,r)=>{r.d(i,{Ay:()=>ik});var n,o,s,a=r(3282),l=r(4586);function c(e){let i=0,r=0,n=!0;for(;e;)e.offsetParent||"BODY"!==e.tagName||0!==e.scrollLeft||0!==e.scrollTop||(e=document.scrollingElement||e),i+=e.offsetLeft-(n?0:e.scrollLeft)+e.clientLeft,r+=e.offsetTop-(n?0:e.scrollTop)+e.clientTop,e=e.offsetParent,n=!1;return{x:i,y:r}}function u(e){if(e===document.body)return{scrollLeft:0,scrollTop:0};{let i=u(e.parentNode);return{scrollLeft:e.scrollLeft+i.scrollLeft,scrollTop:e.scrollTop+i.scrollTop}}}function p(e){if(e===document.body||!e.offsetParent)return{offsetLeft:0,offsetTop:0};{let i=p(e.offsetParent);return{offsetLeft:e.offsetLeft+i.offsetLeft,offsetTop:e.offsetTop+i.offsetTop}}}var h="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f={exports:{}};f.exports,function(e,i){e.exports=function(){function i(e,i){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach(function(i){var r,o,s;r=e,o=i,s=n[i],(o=d(o))in r?Object.defineProperty(r,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[o]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,i){if(!(e instanceof i))throw TypeError("Cannot call a class as a function")}function s(e,i,r){return i&&function(e,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,i){if("function"!=typeof i&&null!==i)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),i&&c(e,i)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,i){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e})(e,i)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){var i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=l(e);r=i?Reflect.construct(n,arguments,l(this).constructor):n.apply(this,arguments);if(r&&("object"==typeof r||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");return u(this)}}function h(){return(h="u">typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,i,r){var n=function(e,i){for(;!Object.prototype.hasOwnProperty.call(e,i)&&null!==(e=l(e)););return e}(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function d(e){var i=function(e,i){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,i);if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof i?i:i+""}var f,v,m,g=function(e){return!(!e||!e.Window)&&e instanceof e.Window},b=void 0,y=void 0;function x(e){b=e;var i=e.document.createTextNode("");i.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(i)===i&&(e=e.wrap(e)),y=e}function T(e){return g(e)?e:(e.ownerDocument||e).defaultView||y.window}"u">typeof window&&window&&x(window);var w=function(e){return!!e&&"object"===n(e)},S=function(e){return"function"==typeof e},O=function(e){return e===y||g(e)},E=function(e){return w(e)&&11===e.nodeType},P=function(e){return"number"==typeof e},M=function(e){return"boolean"==typeof e},k=function(e){return"string"==typeof e},D=function(e){if(!e||"object"!==n(e))return!1;var i=T(e)||y;return/object|function/.test(typeof Element>"u"?"undefined":n(Element))?e instanceof Element||e instanceof i.Element:1===e.nodeType&&"string"==typeof e.nodeName},I=function(e){return w(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},C=function(e){return w(e)&&void 0!==e.length&&S(e.splice)};function z(e){var i=e.interaction;if("drag"===i.prepared.name){var r=i.prepared.axis;"x"===r?(i.coords.cur.page.y=i.coords.start.page.y,i.coords.cur.client.y=i.coords.start.client.y,i.coords.velocity.client.y=0,i.coords.velocity.page.y=0):"y"===r&&(i.coords.cur.page.x=i.coords.start.page.x,i.coords.cur.client.x=i.coords.start.client.x,i.coords.velocity.client.x=0,i.coords.velocity.page.x=0)}}function _(e){var i=e.iEvent,r=e.interaction;if("drag"===r.prepared.name){var n=r.prepared.axis;if("x"===n||"y"===n){var o="x"===n?"y":"x";i.page[o]=r.coords.start.page[o],i.client[o]=r.coords.start.client[o],i.delta[o]=0}}}var j={id:"actions/drag",install:function(e){var i=e.actions,r=e.Interactable,n=e.defaults;r.prototype.draggable=j.draggable,i.map.drag=j,i.methodDict.drag="draggable",n.actions.drag=j.defaults},listeners:{"interactions:before-action-move":z,"interactions:action-resume":z,"interactions:action-move":_,"auto-start:check":function(e){var i=e.interaction,r=e.interactable,n=e.buttons,o=r.options.drag;if(o&&o.enabled&&(!i.pointerIsDown||!/mouse|pointer/.test(i.pointerType)||n&r.options.drag.mouseButtons))return e.action={name:"drag",axis:"start"===o.lockAxis?o.startAxis:o.lockAxis},!1}},draggable:function(e){return w(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):M(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:z,move:_,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(e){return 0===e.search("drag")}},R={init:function(e){R.document=e.document,R.DocumentFragment=e.DocumentFragment||L,R.SVGElement=e.SVGElement||L,R.SVGSVGElement=e.SVGSVGElement||L,R.SVGElementInstance=e.SVGElementInstance||L,R.Element=e.Element||L,R.HTMLElement=e.HTMLElement||R.Element,R.Event=e.Event,R.Touch=e.Touch||L,R.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function L(){}var $={init:function(e){var i=R.Element,r=e.navigator||{};$.supportsTouch="ontouchstart"in e||S(e.DocumentTouch)&&R.document instanceof e.DocumentTouch,$.supportsPointerEvent=!1!==r.pointerEnabled&&!!R.PointerEvent,$.isIOS=/iP(hone|od|ad)/.test(r.platform),$.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),$.isIe9=/MSIE 9/.test(r.userAgent),$.isOperaMobile="Opera"===r.appName&&$.supportsTouch&&/Presto/.test(r.userAgent),$.prefixedMatchesSelector="matches"in i.prototype?"matches":"webkitMatchesSelector"in i.prototype?"webkitMatchesSelector":"mozMatchesSelector"in i.prototype?"mozMatchesSelector":"oMatchesSelector"in i.prototype?"oMatchesSelector":"msMatchesSelector",$.pEventTypes=$.supportsPointerEvent?R.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,$.wheelEvent=R.document&&"onmousewheel"in R.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function A(e,i){if(e.contains)return e.contains(i);for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function H(e,i){for(;D(e);){if(F(e,i))return e;e=W(e)}return null}function W(e){var i=e.parentNode;if(E(i))for(;(i=i.host)&&E(i););return i}function F(e,i){return y!==b&&(i=i.replace(/\/deep\//g," ")),e[$.prefixedMatchesSelector](i)}var Y=function(e){return e.parentNode||e.host};function U(e,i){for(var r,n=[],o=e;(r=Y(o))&&o!==i&&r!==o.ownerDocument;)n.unshift(o),o=r;return n}function N(e,i,r){for(;D(e);){if(F(e,i))return!0;if((e=W(e))===r)return F(e,i)}return!1}function G(e){return e.correspondingUseElement||e}function K(e){var i=e instanceof R.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return i&&{left:i.left,right:i.right,top:i.top,bottom:i.bottom,width:i.width||i.right-i.left,height:i.height||i.bottom-i.top}}function X(e){var i,r=K(e);if(!$.isIOS7&&r){var n={x:(i=(i=T(e))||y).scrollX||i.document.documentElement.scrollLeft,y:i.scrollY||i.document.documentElement.scrollTop};r.left+=n.x,r.right+=n.x,r.top+=n.y,r.bottom+=n.y}return r}function V(e){for(var i=[];e;)i.push(e),e=W(e);return i}function B(e){return!!k(e)&&(R.document.querySelector(e),!0)}function Z(e,i){for(var r in i)e[r]=i[r];return e}function q(e,i,r){return"parent"===e?W(r):"self"===e?i.getRect(r):H(r,e)}function J(e,i,r,n){var o=e;return k(o)?o=q(o,i,r):S(o)&&(o=o.apply(void 0,n)),D(o)&&(o=X(o)),o}function Q(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function ee(e){return!e||"x"in e&&"y"in e||((e=Z({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function et(e,i,r){e.left&&(i.left+=r.x),e.right&&(i.right+=r.x),e.top&&(i.top+=r.y),e.bottom&&(i.bottom+=r.y),i.width=i.right-i.left,i.height=i.bottom-i.top}function ei(e,i,r){var n=r&&e.options[r];return Q(J(n&&n.origin||e.options.origin,e,i,[e&&i]))||{x:0,y:0}}function er(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},n=arguments.length>3?arguments[3]:void 0;if(n=n||{},k(e)&&-1!==e.search(" ")&&(e=en(e)),C(e))return e.forEach(function(e){return er(e,i,r,n)}),n;if(w(e)&&(i=e,e=""),S(i)&&r(e))n[e]=n[e]||[],n[e].push(i);else if(C(i))for(var o=0,s=i;o<s.length;o++){var a=s[o];er(e,a,r,n)}else if(w(i))for(var l in i)er(en(l).map(function(i){return"".concat(e).concat(i)}),i[l],r,n);return n}function en(e){return e.trim().split(/ +/)}var eo=function(e,i){return Math.sqrt(e*e+i*i)},es=["webkit","moz"];function ea(e,i){e.__set||(e.__set={});var r=function(r){if(es.some(function(e){return 0===r.indexOf(e)}))return 1;"function"!=typeof e[r]&&"__set"!==r&&Object.defineProperty(e,r,{get:function(){return r in e.__set?e.__set[r]:e.__set[r]=i[r]},set:function(i){e.__set[r]=i},configurable:!0})};for(var n in i)r(n);return e}function el(e,i){e.page=e.page||{},e.page.x=i.page.x,e.page.y=i.page.y,e.client=e.client||{},e.client.x=i.client.x,e.client.y=i.client.y,e.timeStamp=i.timeStamp}function ec(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function eu(e){return e instanceof R.Event||e instanceof R.Touch}function ep(e,i,r){return e=e||"page",(r=r||{}).x=i[e+"X"],r.y=i[e+"Y"],r}function eh(e,i){return i=i||{x:0,y:0},$.isOperaMobile&&eu(e)?(ep("screen",e,i),i.x+=window.scrollX,i.y+=window.scrollY):ep("page",e,i),i}function ed(e){return P(e.pointerId)?e.pointerId:e.identifier}function ef(e){var i=[];return C(e)?(i[0]=e[0],i[1]=e[1]):"touchend"===e.type?1===e.touches.length?(i[0]=e.touches[0],i[1]=e.changedTouches[0]):0===e.touches.length&&(i[0]=e.changedTouches[0],i[1]=e.changedTouches[1]):(i[0]=e.touches[0],i[1]=e.touches[1]),i}function ev(e){for(var i={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<e.length;r++){var n=e[r];for(var o in i)i[o]+=n[o]}for(var s in i)i[s]/=e.length;return i}function em(e){if(!e.length)return null;var i=ef(e),r=Math.min(i[0].pageX,i[1].pageX),n=Math.min(i[0].pageY,i[1].pageY),o=Math.max(i[0].pageX,i[1].pageX),s=Math.max(i[0].pageY,i[1].pageY);return{x:r,y:n,left:r,top:n,right:o,bottom:s,width:o-r,height:s-n}}function eg(e,i){var r=i+"X",n=i+"Y",o=ef(e);return eo(o[0][r]-o[1][r],o[0][n]-o[1][n])}function eb(e,i){var r=i+"X",n=i+"Y",o=ef(e),s=o[1][r]-o[0][r];return 180*Math.atan2(o[1][n]-o[0][n],s)/Math.PI}function ey(e){return k(e.pointerType)?e.pointerType:P(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof R.Touch?"touch":"mouse"}function ex(e){var i=S(e.composedPath)?e.composedPath():e.path;return[G(i?i[0]:e.target),G(e.currentTarget)]}var eT=function(){function e(i){o(this,e),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=i}return s(e,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),e}();Object.defineProperty(eT.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var ew=function(e,i){for(var r=0;r<i.length;r++){var n=i[r];e.push(n)}return e},eS=function(e){return ew([],e)},eO=function(e,i){for(var r=0;r<e.length;r++)if(i(e[r],r,e))return r;return -1},eE=function(e,i){return e[eO(e,i)]},eP=function(e){a(r,e);var i=p(r);function r(e,n,s){o(this,r),(a=i.call(this,n._interaction)).dropzone=void 0,a.dragEvent=void 0,a.relatedTarget=void 0,a.draggable=void 0,a.propagationStopped=!1,a.immediatePropagationStopped=!1;var a,l="dragleave"===s?e.prev:e.cur,c=l.element,u=l.dropzone;return a.type=s,a.target=c,a.currentTarget=c,a.dropzone=u,a.dragEvent=n,a.relatedTarget=n.target,a.draggable=n.interactable,a.timeStamp=n.timeStamp,a}return s(r,[{key:"reject",value:function(){var e=this,i=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&i.cur.dropzone===this.dropzone&&i.cur.element===this.target)if(i.prev.dropzone=this.dropzone,i.prev.element=this.target,i.rejected=!0,i.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=eO(i.activeDrops,function(i){var r=i.dropzone,n=i.element;return r===e.dropzone&&n===e.target});i.activeDrops.splice(n,1);var o=new r(i,this.dragEvent,"dropdeactivate");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o)}else this.dropzone.fire(new r(i,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),r}(eT);function eM(e,i){for(var r=0,n=e.slice();r<n.length;r++){var o=n[r],s=o.dropzone,a=o.element;i.dropzone=s,i.target=a,s.fire(i),i.propagationStopped=i.immediatePropagationStopped=!1}}function ek(e,i){for(var r=function(e,i){for(var r=[],n=0,o=e.interactables.list;n<o.length;n++){var s=o[n];if(s.options.drop.enabled){var a=s.options.drop.accept;if(!(D(a)&&a!==i||k(a)&&!F(i,a)||S(a)&&!a({dropzone:s,draggableElement:i})))for(var l=0,c=s.getAllElements();l<c.length;l++){var u=c[l];u!==i&&r.push({dropzone:s,element:u,rect:s.getRect(u)})}}}return r}(e,i),n=0;n<r.length;n++){var o=r[n];o.rect=o.dropzone.getRect(o.element)}return r}function eD(e,i,r){for(var n=e.dropState,o=e.interactable,s=e.element,a=[],l=0,c=n.activeDrops;l<c.length;l++){var u=c[l],p=u.dropzone,h=u.element,d=u.rect,f=p.dropCheck(i,r,o,s,h,d);a.push(f?h:null)}var v=function(e){for(var i,r=[],n=0;n<e.length;n++){var o=e[n],s=e[i];if(o&&n!==i)if(s){var a=Y(o),l=Y(s);if(a!==o.ownerDocument)if(l!==o.ownerDocument)if(a!==l){r=r.length?r:U(s);var c=void 0;if(s instanceof R.HTMLElement&&o instanceof R.SVGElement&&!(o instanceof R.SVGSVGElement)){if(o===l)continue;c=o.ownerSVGElement}else c=o;for(var u=U(c,s.ownerDocument),p=0;u[p]&&u[p]===r[p];)p++;var h=[u[p-1],u[p],r[p]];if(h[0])for(var d=h[0].lastChild;d;){if(d===h[1]){i=n,r=u;break}if(d===h[2])break;d=d.previousSibling}}else(parseInt(T(o).getComputedStyle(o).zIndex,10)||0)>=(parseInt(T(s).getComputedStyle(s).zIndex,10)||0)&&(i=n);else i=n}else i=n}return i}(a);return n.activeDrops[v]||null}function eI(e,i,r){var n=e.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===r.type&&(o.activate=new eP(n,r,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),"dragend"===r.type&&(o.deactivate=new eP(n,r,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),n.rejected||(n.cur.element!==n.prev.element&&(n.prev.dropzone&&(o.leave=new eP(n,r,"dragleave"),r.dragLeave=o.leave.target=n.prev.element,r.prevDropzone=o.leave.dropzone=n.prev.dropzone),n.cur.dropzone&&(o.enter=new eP(n,r,"dragenter"),r.dragEnter=n.cur.element,r.dropzone=n.cur.dropzone)),"dragend"===r.type&&n.cur.dropzone&&(o.drop=new eP(n,r,"drop"),r.dropzone=n.cur.dropzone,r.relatedTarget=n.cur.element),"dragmove"===r.type&&n.cur.dropzone&&(o.move=new eP(n,r,"dropmove"),r.dropzone=n.cur.dropzone)),o}function eC(e,i){var r=e.dropState,n=r.activeDrops,o=r.cur,s=r.prev;i.leave&&s.dropzone.fire(i.leave),i.enter&&o.dropzone.fire(i.enter),i.move&&o.dropzone.fire(i.move),i.drop&&o.dropzone.fire(i.drop),i.deactivate&&eM(n,i.deactivate),r.prev.dropzone=o.dropzone,r.prev.element=o.element}function ez(e,i){var r=e.interaction,n=e.iEvent,o=e.event;if("dragmove"===n.type||"dragend"===n.type){var s=r.dropState;i.dynamicDrop&&(s.activeDrops=ek(i,r.element));var a=eD(r,n,o);s.rejected=s.rejected&&!!a&&a.dropzone===s.cur.dropzone&&a.element===s.cur.element,s.cur.dropzone=a&&a.dropzone,s.cur.element=a&&a.element,s.events=eI(r,0,n)}}var e_={id:"actions/drop",install:function(e){var i=e.actions,r=e.interactStatic,n=e.Interactable,o=e.defaults;e.usePlugin(j),n.prototype.dropzone=function(e){return function(e,i){if(w(i)){if(e.options.drop.enabled=!1!==i.enabled,i.listeners){var r=er(i.listeners),n=Object.keys(r).reduce(function(e,i){return e[/^(enter|leave)/.test(i)?"drag".concat(i):/^(activate|deactivate|move)/.test(i)?"drop".concat(i):i]=r[i],e},{}),o=e.options.drop.listeners;o&&e.off(o),e.on(n),e.options.drop.listeners=n}return S(i.ondrop)&&e.on("drop",i.ondrop),S(i.ondropactivate)&&e.on("dropactivate",i.ondropactivate),S(i.ondropdeactivate)&&e.on("dropdeactivate",i.ondropdeactivate),S(i.ondragenter)&&e.on("dragenter",i.ondragenter),S(i.ondragleave)&&e.on("dragleave",i.ondragleave),S(i.ondropmove)&&e.on("dropmove",i.ondropmove),/^(pointer|center)$/.test(i.overlap)?e.options.drop.overlap=i.overlap:P(i.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,i.overlap),0)),"accept"in i&&(e.options.drop.accept=i.accept),"checker"in i&&(e.options.drop.checker=i.checker),e}return M(i)?(e.options.drop.enabled=i,e):e.options.drop}(this,e)},n.prototype.dropCheck=function(e,i,r,n,o,s){return function(e,i,r,n,o,s,a){var l=!1;if(!(a=a||e.getRect(s)))return!!e.options.drop.checker&&e.options.drop.checker(i,r,l,e,s,n,o);var c=e.options.drop.overlap;if("pointer"===c){var u=ei(n,o,"drag"),p=eh(i);p.x+=u.x,p.y+=u.y;var h=p.x>a.left&&p.x<a.right,d=p.y>a.top&&p.y<a.bottom;l=h&&d}var f=n.getRect(o);if(f&&"center"===c){var v=f.left+f.width/2,m=f.top+f.height/2;l=v>=a.left&&v<=a.right&&m>=a.top&&m<=a.bottom}return f&&P(c)&&(l=Math.max(0,Math.min(a.right,f.right)-Math.max(a.left,f.left))*Math.max(0,Math.min(a.bottom,f.bottom)-Math.max(a.top,f.top))/(f.width*f.height)>=c),e.options.drop.checker&&(l=e.options.drop.checker(i,r,l,e,s,n,o)),l}(this,e,i,r,n,o,s)},r.dynamicDrop=function(i){return M(i)?(e.dynamicDrop=i,r):e.dynamicDrop},Z(i.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),i.methodDict.drop="dropzone",e.dynamicDrop=!1,o.actions.drop=e_.defaults},listeners:{"interactions:before-action-start":function(e){var i=e.interaction;"drag"===i.prepared.name&&(i.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,i){var r=e.interaction,n=(e.event,e.iEvent);if("drag"===r.prepared.name){var o=r.dropState;o.activeDrops=[],o.events={},o.activeDrops=ek(i,r.element),o.events=eI(r,0,n),o.events.activate&&(eM(o.activeDrops,o.events.activate),i.fire("actions/drop:start",{interaction:r,dragEvent:n}))}},"interactions:action-move":ez,"interactions:after-action-move":function(e,i){var r=e.interaction,n=e.iEvent;if("drag"===r.prepared.name){var o=r.dropState;eC(r,o.events),i.fire("actions/drop:move",{interaction:r,dragEvent:n}),o.events={}}},"interactions:action-end":function(e,i){if("drag"===e.interaction.prepared.name){var r=e.interaction,n=e.iEvent;ez(e,i),eC(r,r.dropState.events),i.fire("actions/drop:end",{interaction:r,dragEvent:n})}},"interactions:stop":function(e){var i=e.interaction;if("drag"===i.prepared.name){var r=i.dropState;r&&(r.activeDrops=null,r.events=null,r.cur.dropzone=null,r.cur.element=null,r.prev.dropzone=null,r.prev.element=null,r.rejected=!1)}}},getActiveDrops:ek,getDrop:eD,getDropEvents:eI,fireDropEvents:eC,filterEventType:function(e){return 0===e.search("drag")||0===e.search("drop")},defaults:{enabled:!1,accept:null,overlap:"pointer"}};function ej(e){var i=e.interaction,r=e.iEvent,n=e.phase;if("gesture"===i.prepared.name){var o=i.pointers.map(function(e){return e.pointer}),s=i.interactable.options.deltaSource;if(r.touches=[o[0],o[1]],"start"===n)r.distance=eg(o,s),r.box=em(o),r.scale=1,r.ds=0,r.angle=eb(o,s),r.da=0,i.gesture.startDistance=r.distance,i.gesture.startAngle=r.angle;else if("end"===n||i.pointers.length<2){var a=i.prevEvent;r.distance=a.distance,r.box=a.box,r.scale=a.scale,r.ds=0,r.angle=a.angle,r.da=0}else r.distance=eg(o,s),r.box=em(o),r.scale=r.distance/i.gesture.startDistance,r.angle=eb(o,s),r.ds=r.scale-i.gesture.scale,r.da=r.angle-i.gesture.angle;i.gesture.distance=r.distance,i.gesture.angle=r.angle,P(r.scale)&&r.scale!==1/0&&!isNaN(r.scale)&&(i.gesture.scale=r.scale)}}var eR={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var i=e.actions,r=e.Interactable,n=e.defaults;r.prototype.gesturable=function(e){return w(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):M(e)?(this.options.gesture.enabled=e,this):this.options.gesture},i.map.gesture=eR,i.methodDict.gesture="gesturable",n.actions.gesture=eR.defaults},listeners:{"interactions:action-start":ej,"interactions:action-move":ej,"interactions:action-end":ej,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var i=e.interactable.options.gesture;if(i&&i.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(e){return 0===e.search("gesture")}};function eL(e){var i=e.iEvent,r=e.interaction;"resize"===r.prepared.name&&r.resizeAxes&&(r.interactable.options.resize.square?("y"===r.resizeAxes?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=r.resizeAxes,"x"===r.resizeAxes?i.delta.y=0:"y"===r.resizeAxes&&(i.delta.x=0)))}var e$,eA,eH={id:"actions/resize",before:["actions/drag"],install:function(e){var i=e.actions,r=e.browser,n=e.Interactable,o=e.defaults;eH.cursors=r.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},eH.defaultMargin=r.supportsTouch||r.supportsPointerEvent?20:10,n.prototype.resizable=function(i){return w(i)?(this.options.resize.enabled=!1!==i.enabled,this.setPerAction("resize",i),this.setOnEvents("resize",i),k(i.axis)&&/^x$|^y$|^xy$/.test(i.axis)?this.options.resize.axis=i.axis:null===i.axis&&(this.options.resize.axis=e.defaults.actions.resize.axis),M(i.preserveAspectRatio)?this.options.resize.preserveAspectRatio=i.preserveAspectRatio:M(i.square)&&(this.options.resize.square=i.square),this):M(i)?(this.options.resize.enabled=i,this):this.options.resize},i.map.resize=eH,i.methodDict.resize="resizable",o.actions.resize=eH.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(e){var i=e.iEvent,r=e.interaction;if("resize"===r.prepared.name&&r.prepared.edges){var n=r.rect;r._rects={start:Z({},n),corrected:Z({},n),previous:Z({},n),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=r.prepared.edges,i.rect=r._rects.corrected,i.deltaRect=r._rects.delta}})(e),eL(e)},"interactions:action-move":function(e){(function(e){var i=e.iEvent,r=e.interaction;if("resize"===r.prepared.name&&r.prepared.edges){var n=r.interactable.options.resize.invert,o=r.rect,s=r._rects,a=s.start,l=s.corrected,c=s.delta,u=s.previous;if(Z(u,l),"reposition"===n||"negate"===n){if(Z(l,o),"reposition"===n){if(l.top>l.bottom){var p=l.top;l.top=l.bottom,l.bottom=p}if(l.left>l.right){var h=l.left;l.left=l.right,l.right=h}}}else l.top=Math.min(o.top,a.bottom),l.bottom=Math.max(o.bottom,a.top),l.left=Math.min(o.left,a.right),l.right=Math.max(o.right,a.left);for(var d in l.width=l.right-l.left,l.height=l.bottom-l.top,l)c[d]=l[d]-u[d];i.edges=r.prepared.edges,i.rect=l,i.deltaRect=c}})(e),eL(e)},"interactions:action-end":function(e){var i=e.iEvent,r=e.interaction;"resize"===r.prepared.name&&r.prepared.edges&&(i.edges=r.prepared.edges,i.rect=r._rects.corrected,i.deltaRect=r._rects.delta)},"auto-start:check":function(e){var i=e.interaction,r=e.interactable,n=e.element,o=e.rect,s=e.buttons;if(o){var a=Z({},i.coords.cur.page),l=r.options.resize;if(l&&l.enabled&&(!i.pointerIsDown||!/mouse|pointer/.test(i.pointerType)||s&l.mouseButtons)){if(w(l.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var u in c)c[u]=function(e,i,r,n,o,s,a){if(!i)return!1;if(!0===i){var l=P(s.width)?s.width:s.right-s.left,c=P(s.height)?s.height:s.bottom-s.top;if(a=Math.min(a,Math.abs(("left"===e||"right"===e?l:c)/2)),l<0&&("left"===e?e="right":"right"===e&&(e="left")),c<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e){var u=l>=0?s.left:s.right;return r.x<u+a}if("top"===e){var p=c>=0?s.top:s.bottom;return r.y<p+a}if("right"===e)return r.x>(l>=0?s.right:s.left)-a;if("bottom"===e)return r.y>(c>=0?s.bottom:s.top)-a}return!!D(n)&&(D(i)?i===n:N(n,i,o))}(u,l.edges[u],a,i._latestPointer.eventTarget,n,o,l.margin||eH.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(e.action={name:"resize",edges:c})}else{var p="y"!==l.axis&&a.x>o.right-eH.defaultMargin,h="x"!==l.axis&&a.y>o.bottom-eH.defaultMargin;(p||h)&&(e.action={name:"resize",axes:(p?"x":"")+(h?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var i=e.edges,r=e.axis,n=e.name,o=eH.cursors,s=null;if(r)s=o[n+r];else if(i){for(var a="",l=0,c=["top","bottom","left","right"];l<c.length;l++){var u=c[l];i[u]&&(a+=u)}s=o[a]}return s},filterEventType:function(e){return 0===e.search("resize")},defaultMargin:null},eW=0,eF=function(e){return e$(e)},eY=function(e){return eA(e)},eU=function(e){if(e$=e.requestAnimationFrame,eA=e.cancelAnimationFrame,!e$)for(var i=["ms","moz","webkit","o"],r=0;r<i.length;r++){var n=i[r];e$=e["".concat(n,"RequestAnimationFrame")],eA=e["".concat(n,"CancelAnimationFrame")]||e["".concat(n,"CancelRequestAnimationFrame")]}e$=e$&&e$.bind(e),eA=eA&&eA.bind(e),e$||(e$=function(i){var r=Date.now(),n=Math.max(0,16-(r-eW)),o=e.setTimeout(function(){i(r+n)},n);return eW=r+n,o},eA=function(e){return clearTimeout(e)})},eN={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){eN.isScrolling=!0,eY(eN.i),e.autoScroll=eN,eN.interaction=e,eN.prevTime=eN.now(),eN.i=eF(eN.scroll)},stop:function(){eN.isScrolling=!1,eN.interaction&&(eN.interaction.autoScroll=null),eY(eN.i)},scroll:function(){var e=eN.interaction,i=e.interactable,r=e.element,n=e.prepared.name,o=i.options[n].autoScroll,s=eG(o.container,i,r),a=eN.now(),l=(a-eN.prevTime)/1e3,c=o.speed*l;if(c>=1){var u={x:eN.x*c,y:eN.y*c};if(u.x||u.y){var p=eK(s);O(s)?s.scrollBy(u.x,u.y):s&&(s.scrollLeft+=u.x,s.scrollTop+=u.y);var h=eK(s),d={x:h.x-p.x,y:h.y-p.y};(d.x||d.y)&&i.fire({type:"autoscroll",target:r,interactable:i,delta:d,interaction:e,container:s})}eN.prevTime=a}eN.isScrolling&&(eY(eN.i),eN.i=eF(eN.scroll))},check:function(e,i){var r;return null==(r=e.options[i].autoScroll)?void 0:r.enabled},onInteractionMove:function(e){var i=e.interaction,r=e.pointer;if(i.interacting()&&eN.check(i.interactable,i.prepared.name))if(i.simulation)eN.x=eN.y=0;else{var n,o,s,a,l=i.interactable,c=i.element,u=i.prepared.name,p=l.options[u].autoScroll,h=eG(p.container,l,c);if(O(h))a=r.clientX<eN.margin,n=r.clientY<eN.margin,o=r.clientX>h.innerWidth-eN.margin,s=r.clientY>h.innerHeight-eN.margin;else{var d=K(h);a=r.clientX<d.left+eN.margin,n=r.clientY<d.top+eN.margin,o=r.clientX>d.right-eN.margin,s=r.clientY>d.bottom-eN.margin}eN.x=o?1:a?-1:0,eN.y=s?1:n?-1:0,eN.isScrolling||(eN.margin=p.margin,eN.speed=p.speed,eN.start(i))}}};function eG(e,i,r){return(k(e)?q(e,i,r):e)||T(r)}function eK(e){return O(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var eX={id:"auto-scroll",install:function(e){var i=e.defaults,r=e.actions;e.autoScroll=eN,eN.now=function(){return e.now()},r.phaselessTypes.autoscroll=!0,i.perAction.autoScroll=eN.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,eN.stop(),eN.interaction&&(eN.interaction=null)},"interactions:stop":eN.stop,"interactions:action-move":function(e){return eN.onInteractionMove(e)}}};function eV(e,i){var r=!1;return function(){return r||(y.console.warn(i),r=!0),e.apply(this,arguments)}}function eB(e,i){return e.name=i.name,e.axis=i.axis,e.edges=i.edges,e}function eZ(e){return M(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function eq(e){return S(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}var eJ={id:"auto-start/interactableMethods",install:function(e){var i=e.Interactable;i.prototype.getAction=function(i,r,n,o){var s,a,l=(s=this.getRect(o),a={action:null,interactable:this,interaction:n,element:o,rect:s,buttons:r.buttons||({0:1,1:4,3:8,4:16})[r.button]},e.fire("auto-start:check",a),a.action);return this.options.actionChecker?this.options.actionChecker(i,r,l,this,o,n):l},i.prototype.ignoreFrom=eV(function(e){return this._backCompatOption("ignoreFrom",e)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),i.prototype.allowFrom=eV(function(e){return this._backCompatOption("allowFrom",e)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),i.prototype.actionChecker=eq,i.prototype.styleCursor=eZ}};function eQ(e,i,r,n,o){return i.testIgnoreAllow(i.options[e.name],r,n)&&i.options[e.name].enabled&&e2(i,r,e,o)?e:null}function e0(e,i,r,n,o){var s=[],a=[],l=n;function c(e){s.push(e),a.push(l)}for(;D(l);){s=[],a=[],o.interactables.forEachMatch(l,c);var u=function(e,i,r,n,o,s,a){for(var l=0,c=n.length;l<c;l++){var u=n[l],p=o[l],h=u.getAction(i,r,e,p);if(h){var d=eQ(h,u,p,s,a);if(d)return{action:d,interactable:u,element:p}}}return{action:null,interactable:null,element:null}}(e,i,r,s,a,n,o);if(u.action&&!u.interactable.options[u.action.name].manualStart)return u;l=W(l)}return{action:null,interactable:null,element:null}}function e1(e,i,r){var n=i.action,o=i.interactable,s=i.element;n=n||{name:null},e.interactable=o,e.element=s,eB(e.prepared,n),e.rect=o&&n.name?o.getRect(s):null,e6(e,r),r.fire("autoStart:prepared",{interaction:e})}function e2(e,i,r,n){var o=e.options,s=o[r.name].max,a=o[r.name].maxPerElement,l=n.autoStart.maxInteractions,c=0,u=0,p=0;if(!(s&&a&&l))return!1;for(var h=0,d=n.interactions.list;h<d.length;h++){var f=d[h],v=f.prepared.name;if(f.interacting()&&(++c>=l||f.interactable===e&&((u+=+(v===r.name))>=s||f.element===i&&(p++,v===r.name&&p>=a))))return!1}return l>0}function e3(e,i){return P(e)?(i.autoStart.maxInteractions=e,this):i.autoStart.maxInteractions}function e5(e,i,r){var n=r.autoStart.cursorElement;n&&n!==e&&(n.style.cursor=""),e.ownerDocument.documentElement.style.cursor=i,e.style.cursor=i,r.autoStart.cursorElement=i?e:null}function e6(e,i){var r=e.interactable,n=e.element,o=e.prepared;if("mouse"===e.pointerType&&r&&r.options.styleCursor){var s="";if(o.name){var a=r.options[o.name].cursorChecker;s=S(a)?a(o,r,n,e._interacting):i.actions.map[o.name].getCursor(o)}e5(e.element,s||"",i)}else i.autoStart.cursorElement&&e5(i.autoStart.cursorElement,"",i)}var e4={id:"auto-start/base",before:["actions"],install:function(e){var i=e.interactStatic,r=e.defaults;e.usePlugin(eJ),r.base.actionChecker=null,r.base.styleCursor=!0,Z(r.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),i.maxInteractions=function(i){return e3(i,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:e2,cursorElement:null}},listeners:{"interactions:down":function(e,i){var r=e.interaction,n=e.pointer,o=e.event,s=e.eventTarget;r.interacting()||e1(r,e0(r,n,o,s,i),i)},"interactions:move":function(e,i){var r,n,o,s;r=e.interaction,n=e.pointer,o=e.event,s=e.eventTarget,"mouse"!==r.pointerType||r.pointerIsDown||r.interacting()||e1(r,e0(r,n,o,s,i),i),function(e,i){var r=e.interaction;if(r.pointerIsDown&&!r.interacting()&&r.pointerWasMoved&&r.prepared.name){i.fire("autoStart:before-start",e);var n=r.interactable,o=r.prepared.name;o&&n&&(n.options[o].manualStart||!e2(n,r.element,r.prepared,i)?r.stop():(r.start(r.prepared,n,r.element),e6(r,i)))}}(e,i)},"interactions:stop":function(e,i){var r=e.interaction,n=r.interactable;n&&n.options.styleCursor&&e5(r.element,"",i)}},maxInteractions:e3,withinInteractionLimit:e2,validateAction:eQ},e8={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,i){var r=e.interaction,n=e.eventTarget,o=e.dx,s=e.dy;if("drag"===r.prepared.name){var a=Math.abs(o),l=Math.abs(s),c=r.interactable.options.drag,u=c.startAxis,p=a>l?"x":a<l?"y":"xy";if(r.prepared.axis="start"===c.lockAxis?p[0]:c.lockAxis,"xy"!==p&&"xy"!==u&&u!==p){r.prepared.name=null;for(var h=n,d=function(e){if(e!==r.interactable){var o=r.interactable.options.drag;if(!o.manualStart&&e.testIgnoreAllow(o,h,n)){var s=e.getAction(r.downPointer,r.downEvent,r,h);if(s&&"drag"===s.name&&function(e,i){if(!i)return!1;var r=i.options.drag.startAxis;return"xy"===e||"xy"===r||r===e}(p,e)&&e4.validateAction(s,e,h,n,i))return e}}};D(h);){var f=i.interactables.forEachMatch(h,d);if(f){r.prepared.name="drag",r.interactable=f,r.element=h;break}h=W(h)}}}}}};function e9(e){var i=e.prepared&&e.prepared.name;if(!i)return null;var r=e.interactable.options;return r[i].hold||r[i].delay}var e7={id:"auto-start/hold",install:function(e){var i=e.defaults;e.usePlugin(e4),i.perAction.hold=0,i.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var i=e.interaction,r=e9(i);r>0&&(i.autoStartHoldTimer=setTimeout(function(){i.start(i.prepared,i.interactable,i.element)},r))},"interactions:move":function(e){var i=e.interaction,r=e.duplicate;i.autoStartHoldTimer&&i.pointerWasMoved&&!r&&(clearTimeout(i.autoStartHoldTimer),i.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var i=e.interaction;e9(i)>0&&(i.prepared.name=null)}},getHoldDuration:e9},te=function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):M(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault};function tt(e){var i=e.interaction,r=e.event;i.interactable&&i.interactable.checkAndPreventDefault(r)}var ti={id:"core/interactablePreventDefault",install:function(e){var i=e.Interactable;i.prototype.preventDefault=te,i.prototype.checkAndPreventDefault=function(i){return function(e,i,r){var n=e.options.preventDefault;if("never"!==n)if("always"!==n){if(i.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){var o=T(r.target).document,s=i.getDocOptions(o);if(!s||!s.events||!1!==s.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||D(r.target)&&F(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()}(this,e,i)},e.interactions.docEvents.push({type:"dragstart",listener:function(i){for(var r=0,n=e.interactions.list;r<n.length;r++){var o=n[r];if(o.element&&(o.element===i.target||A(o.element,i.target)))return void o.interactable.checkAndPreventDefault(i)}}})},listeners:["down","move","up","cancel"].reduce(function(e,i){return e["interactions:".concat(i)]=tt,e},{})};function tr(e,i){if(i.phaselessTypes[e])return!0;for(var r in i.map)if(0===e.indexOf(r)&&e.substr(r.length)in i.phases)return!0;return!1}function tn(e){var i={};for(var r in e){var n=e[r];I(n)?i[r]=tn(n):C(n)?i[r]=eS(n):i[r]=n}return i}var to=function(){function e(i){o(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=i,this.result=ts(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return s(e,[{key:"start",value:function(e,i){var r,n,o,s=e.phase,a=this.interaction,l=(n=(r=a.interactable.options[a.prepared.name]).modifiers)&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(e){var i=r[e];return i&&i.enabled&&{options:i,methods:i._methods}}).filter(function(e){return!!e});this.prepareStates(l),this.startEdges=Z({},a.edges),this.edges=Z({},this.startEdges),this.startOffset=(o=a.rect)?{left:i.x-o.left,top:i.y-o.top,right:o.right-i.x,bottom:o.bottom-i.y}:{left:0,top:0,right:0,bottom:0},this.startDelta={x:0,y:0};var c=this.fillArg({phase:s,pageCoords:i,preEnd:!1});return this.result=ts(),this.startAll(c),this.result=this.setAll(c)}},{key:"fillArg",value:function(e){var i=this.interaction;return e.interaction=i,e.interactable=i.interactable,e.element=i.element,e.rect||(e.rect=i.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var i=0,r=this.states;i<r.length;i++){var n=r[i];n.methods.start&&(e.state=n,n.methods.start(e))}}},{key:"setAll",value:function(e){var i=e.phase,r=e.preEnd,n=e.skipModifiers,o=e.rect,s=e.edges;e.coords=Z({},e.pageCoords),e.rect=Z({},o),e.edges=Z({},s);for(var a=n?this.states.slice(n):this.states,l=ts(e.coords,e.rect),c=0;c<a.length;c++){var u,p=a[c],h=p.options,d=Z({},e.coords),f=null;null!=(u=p.methods)&&u.set&&this.shouldDo(h,r,i)&&(e.state=p,f=p.methods.set(e),et(e.edges,e.rect,{x:e.coords.x-d.x,y:e.coords.y-d.y})),l.eventProps.push(f)}Z(this.edges,e.edges),l.delta.x=e.coords.x-e.pageCoords.x,l.delta.y=e.coords.y-e.pageCoords.y,l.rectDelta.left=e.rect.left-o.left,l.rectDelta.right=e.rect.right-o.right,l.rectDelta.top=e.rect.top-o.top,l.rectDelta.bottom=e.rect.bottom-o.bottom;var v=this.result.coords,m=this.result.rect;if(v&&m){var g=l.rect.left!==m.left||l.rect.right!==m.right||l.rect.top!==m.top||l.rect.bottom!==m.bottom;l.changed=g||v.x!==l.coords.x||v.y!==l.coords.y}return l}},{key:"applyToInteraction",value:function(e){var i=this.interaction,r=e.phase,n=i.coords.cur,o=i.coords.start,s=this.result,a=this.startDelta,l=s.delta;"start"===r&&Z(this.startDelta,s.delta);for(var c=0,u=[[o,a],[n,l]];c<u.length;c++){var p=u[c],h=p[0],d=p[1];h.page.x+=d.x,h.page.y+=d.y,h.client.x+=d.x,h.client.y+=d.y}var f=this.result.rectDelta,v=e.rect||i.rect;v.left+=f.left,v.right+=f.right,v.top+=f.top,v.bottom+=f.bottom,v.width=v.right-v.left,v.height=v.bottom-v.top}},{key:"setAndApply",value:function(e){var i=this.interaction,r=e.phase,n=e.preEnd,o=e.skipModifiers,s=this.setAll(this.fillArg({preEnd:n,phase:r,pageCoords:e.modifiedCoords||i.coords.cur.page}));if(this.result=s,!s.changed&&(!o||o<this.states.length)&&i.interacting())return!1;if(e.modifiedCoords){var a=i.coords.cur.page,l={x:e.modifiedCoords.x-a.x,y:e.modifiedCoords.y-a.y};s.coords.x+=l.x,s.coords.y+=l.y,s.delta.x+=l.x,s.delta.y+=l.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var i=e.interaction,r=e.event,n=this.states;if(n&&n.length){for(var o=!1,s=0;s<n.length;s++){var a=n[s];e.state=a;var l=a.options,c=a.methods,u=c.beforeEnd&&c.beforeEnd(e);if(u)return this.endResult=u,!1;o=o||!o&&this.shouldDo(l,!0,e.phase,!0)}o&&i.move({event:r,preEnd:!0})}}},{key:"stop",value:function(e){var i=e.interaction;if(this.states&&this.states.length){var r=Z({states:this.states,interactable:i.interactable,element:i.element,rect:null},e);this.fillArg(r);for(var n=0,o=this.states;n<o.length;n++){var s=o[n];r.state=s,s.methods.stop&&s.methods.stop(r)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var i=0;i<e.length;i++){var r=e[i],n=r.options,o=r.methods,s=r.name;this.states.push({options:n,methods:o,index:i,name:s})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var i=e.interaction,r=i.coords,n=i.rect,o=i.modification;if(o.result){for(var s=o.startDelta,a=o.result,l=a.delta,c=a.rectDelta,u=0,p=[[r.start,s],[r.cur,l]];u<p.length;u++){var h=p[u],d=h[0],f=h[1];d.page.x-=f.x,d.page.y-=f.y,d.client.x-=f.x,d.client.y-=f.y}n.left-=c.left,n.right-=c.right,n.top-=c.top,n.bottom-=c.bottom}}},{key:"shouldDo",value:function(e,i,r,n){return!(!e||!1===e.enabled||n&&!e.endOnly||e.endOnly&&!i||"start"===r&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(e){return tn(e)}),this.result=ts(Z({},e.result.coords),Z({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),e}();function ts(e,i){return{rect:i,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function ta(e,i){var r=e.defaults,n={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},o=function(e){var o=e||{};for(var s in o.enabled=!1!==o.enabled,r)s in o||(o[s]=r[s]);var a={options:o,methods:n,name:i,enable:function(){return o.enabled=!0,a},disable:function(){return o.enabled=!1,a}};return a};return i&&"string"==typeof i&&(o._defaults=r,o._methods=n),o}function tl(e){var i=e.iEvent,r=e.interaction.modification.result;r&&(i.modifiers=r.eventProps)}var tc={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var i=e.interaction;i.modification=new to(i)},"interactions:before-action-start":function(e){var i=e.interaction,r=e.interaction.modification;r.start(e,i.coords.start.page),i.edges=r.edges,r.applyToInteraction(e)},"interactions:before-action-move":function(e){var i=e.interaction,r=i.modification,n=r.setAndApply(e);return i.edges=r.edges,n},"interactions:before-action-end":function(e){var i=e.interaction,r=i.modification,n=r.beforeEnd(e);return i.edges=r.startEdges,n},"interactions:action-start":tl,"interactions:action-move":tl,"interactions:action-end":tl,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},tu={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},tp=function(e){a(r,e);var i=p(r);function r(e,n,s,a,l,c,p){o(this,r),(h=i.call(this,e)).relatedTarget=null,h.screenX=void 0,h.screenY=void 0,h.button=void 0,h.buttons=void 0,h.ctrlKey=void 0,h.shiftKey=void 0,h.altKey=void 0,h.metaKey=void 0,h.page=void 0,h.client=void 0,h.delta=void 0,h.rect=void 0,h.x0=void 0,h.y0=void 0,h.t0=void 0,h.dt=void 0,h.duration=void 0,h.clientX0=void 0,h.clientY0=void 0,h.velocity=void 0,h.speed=void 0,h.swipe=void 0,h.axes=void 0,h.preEnd=void 0,l=l||e.element;var h,d=e.interactable,f=(d&&d.options||tu).deltaSource,v=ei(d,l,s),m="start"===a,g="end"===a,b=m?u(h):e.prevEvent,y=m?e.coords.start:g?{page:b.page,client:b.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return h.page=Z({},y.page),h.client=Z({},y.client),h.rect=Z({},e.rect),h.timeStamp=y.timeStamp,g||(h.page.x-=v.x,h.page.y-=v.y,h.client.x-=v.x,h.client.y-=v.y),h.ctrlKey=n.ctrlKey,h.altKey=n.altKey,h.shiftKey=n.shiftKey,h.metaKey=n.metaKey,h.button=n.button,h.buttons=n.buttons,h.target=l,h.currentTarget=l,h.preEnd=c,h.type=p||s+(a||""),h.interactable=d,h.t0=m?e.pointers[e.pointers.length-1].downTime:b.t0,h.x0=e.coords.start.page.x-v.x,h.y0=e.coords.start.page.y-v.y,h.clientX0=e.coords.start.client.x-v.x,h.clientY0=e.coords.start.client.y-v.y,h.delta=m||g?{x:0,y:0}:{x:h[f].x-b[f].x,y:h[f].y-b[f].y},h.dt=e.coords.delta.timeStamp,h.duration=h.timeStamp-h.t0,h.velocity=Z({},e.coords.velocity[f]),h.speed=eo(h.velocity.x,h.velocity.y),h.swipe=g||"inertiastart"===a?h.getSwipe():null,h}return s(r,[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||this.timeStamp-e.prevEvent.timeStamp>150)return null;var i=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;i<0&&(i+=360);var r=112.5<=i&&i<247.5,n=202.5<=i&&i<337.5;return{up:n,down:!n&&22.5<=i&&i<157.5,left:r,right:!r&&(292.5<=i||i<67.5),angle:i,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),r}(eT);Object.defineProperties(tp.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var th=s(function e(i,r,n,s,a){o(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=i,this.pointer=r,this.event=n,this.downTime=s,this.downTarget=a}),td=((f={}).interactable="",f.element="",f.prepared="",f.pointerIsDown="",f.pointerWasMoved="",f._proxy="",f),tf=((v={}).start="",v.move="",v.end="",v.stop="",v.interacting="",v),tv=0,tm=function(){function e(i){var r=this,n=i.pointerType,s=i.scopeFire;o(this,e),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=eV(function(e){this.move(e)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=tv++,this._scopeFire=s,this.pointerType=n;var a=this;this._proxy={};var l=function(e){Object.defineProperty(r._proxy,e,{get:function(){return a[e]}})};for(var c in td)l(c);var u=function(e){Object.defineProperty(r._proxy,e,{value:function(){return a[e].apply(a,arguments)}})};for(var p in tf)u(p);this._scopeFire("interactions:new",{interaction:this})}return s(e,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,i,r){var n=this.updatePointer(e,i,r,!0),o=this.pointers[n];this._scopeFire("interactions:down",{pointer:e,event:i,eventTarget:r,pointerIndex:n,pointerInfo:o,type:"down",interaction:this})}},{key:"start",value:function(e,i,r){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===e.name?2:1)||!i.options[e.name].enabled)&&(eB(this.prepared,e),this.interactable=i,this.element=r,this.rect=i.getRect(r),this.edges=this.prepared.edges?Z({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,i,r){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,i,r,!1);var n,o,s=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(n=this.coords.cur.client.x-this.coords.start.client.x,o=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=eo(n,o)>this.pointerMoveTolerance);var a,l,c,u=this.getPointerIndex(e),p={pointer:e,pointerIndex:u,pointerInfo:this.pointers[u],event:i,type:"move",eventTarget:r,dx:n,dy:o,duplicate:s,interaction:this};s||(a=this.coords.velocity,c=Math.max((l=this.coords.delta).timeStamp/1e3,.001),a.page.x=l.page.x/c,a.page.y=l.page.y/c,a.client.x=l.client.x/c,a.client.y=l.client.y/c,a.timeStamp=c),this._scopeFire("interactions:move",p),s||this.simulation||(this.interacting()&&(p.type=null,this.move(p)),this.pointerWasMoved&&el(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||ec(this.coords.delta),(e=Z({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,i,r,n){var o=this.getPointerIndex(e);-1===o&&(o=this.updatePointer(e,i,r,!1));var s=/cancel$/i.test(i.type)?"cancel":"up";this._scopeFire("interactions:".concat(s),{pointer:e,pointerIndex:o,pointerInfo:this.pointers[o],event:i,eventTarget:r,type:s,curEventTarget:n,interaction:this}),this.simulation||this.end(i),this.removePointer(e,i)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var i;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(i=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,!0===i&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var i=ed(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:eO(this.pointers,function(e){return e.id===i})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,i,r,n){var o,s,a,l,c,u,p,h,d=ed(e),f=this.getPointerIndex(e),v=this.pointers[f];return n=!1!==n&&(n||/(down|start)$/i.test(i.type)),v?v.pointer=e:(v=new th(d,e,i,null,null),f=this.pointers.length,this.pointers.push(v)),o=this.coords.cur,s=this.pointers.map(function(e){return e.pointer}),a=this._now(),eh(l=s.length>1?ev(s):s[0],o.page),c=(c=o.client)||{},$.isOperaMobile&&eu(l)?ep("screen",l,c):ep("client",l,c),o.timeStamp=a,u=this.coords.delta,p=this.coords.prev,h=this.coords.cur,u.page.x=h.page.x-p.page.x,u.page.y=h.page.y-p.page.y,u.client.x=h.client.x-p.client.x,u.client.y=h.client.y-p.client.y,u.timeStamp=h.timeStamp-p.timeStamp,n&&(this.pointerIsDown=!0,v.downTime=this.coords.cur.timeStamp,v.downTarget=r,ea(this.downPointer,e),this.interacting()||(el(this.coords.start,this.coords.cur),el(this.coords.prev,this.coords.cur),this.downEvent=i,this.pointerWasMoved=!1)),this._updateLatestPointer(e,i,r),this._scopeFire("interactions:update-pointer",{pointer:e,event:i,eventTarget:r,down:n,pointerInfo:v,pointerIndex:f,interaction:this}),f}},{key:"removePointer",value:function(e,i){var r=this.getPointerIndex(e);if(-1!==r){var n=this.pointers[r];this._scopeFire("interactions:remove-pointer",{pointer:e,event:i,eventTarget:null,pointerIndex:r,pointerInfo:n,interaction:this}),this.pointers.splice(r,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,i,r){this._latestPointer.pointer=e,this._latestPointer.event=i,this._latestPointer.eventTarget=r}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,i,r,n){return new tp(this,e,this.prepared.name,i,this.element,r,n)}},{key:"_fireEvent",value:function(e){var i;null==(i=this.interactable)||i.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var i=e.event,r=e.phase,n=e.preEnd,o=e.type,s=this.rect;if(s&&"move"===r&&(et(this.edges,s,this.coords.delta[this.interactable.options.deltaSource]),s.width=s.right-s.left,s.height=s.bottom-s.top),!1===this._scopeFire("interactions:before-action-".concat(r),e))return!1;var a=e.iEvent=this._createPreparedEvent(i,r,n,o);return this._scopeFire("interactions:action-".concat(r),e),"start"===r&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-".concat(r),e),!0}},{key:"_now",value:function(){return Date.now()}}]),e}();function tg(e){tb(e.interaction)}function tb(e){if(!e.offset.pending.x&&!e.offset.pending.y)return!1;var i=e.offset.pending;return tx(e.coords.cur,i),tx(e.coords.delta,i),et(e.edges,e.rect,i),i.x=0,i.y=0,!0}function ty(e){var i=e.x,r=e.y;this.offset.pending.x+=i,this.offset.pending.y+=r,this.offset.total.x+=i,this.offset.total.y+=r}function tx(e,i){var r=e.page,n=e.client,o=i.x,s=i.y;r.x+=o,r.y+=s,n.x+=o,n.y+=s}tf.offsetBy="";var tT={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=ty},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){var i;(i=e.interaction).pointerIsDown&&(tx(i.coords.cur,i.offset.total),i.offset.pending.x=0,i.offset.pending.y=0)},"interactions:before-action-start":tg,"interactions:before-action-move":tg,"interactions:before-action-end":function(e){var i=e.interaction;if(tb(i))return i.move({offset:!0}),i.end(),!1},"interactions:stop":function(e){var i=e.interaction;i.offset.total.x=0,i.offset.total.y=0,i.offset.pending.x=0,i.offset.pending.y=0}}},tw=function(){function e(i){o(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=i}return s(e,[{key:"start",value:function(e){var i=this.interaction,r=tS(i);if(!r||!r.enabled)return!1;var n=i.coords.velocity.client,o=eo(n.x,n.y),s=this.modification||(this.modification=new to(i));if(s.copyFrom(i.modification),this.t0=i._now(),this.allowResume=r.allowResume,this.v0=o,this.currentOffset={x:0,y:0},this.startCoords=i.coords.cur.page,this.modifierArg=s.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-i.coords.cur.timeStamp<50&&o>r.minSpeed&&o>r.endSpeed)this.startInertia();else{if(s.result=s.setAll(this.modifierArg),!s.result.changed)return!1;this.startSmoothEnd()}return i.modification.result.rect=null,i.offsetBy(this.targetOffset),i._doPhase({interaction:i,event:e,phase:"inertiastart"}),i.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),i.modification.result.rect=null,this.active=!0,i.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,i=this.interaction.coords.velocity.client,r=tS(this.interaction),n=r.resistance,o=-Math.log(r.endSpeed/this.v0)/n;this.targetOffset={x:(i.x-o)/n,y:(i.y-o)/n},this.te=o,this.lambda_v0=n/this.v0,this.one_ve_v0=1-r.endSpeed/this.v0;var s=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},s.result=s.setAll(a),s.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+s.result.delta.x,y:this.targetOffset.y+s.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var i=this;this.timeout=eF(function(){i.active&&e()})}},{key:"inertiaTick",value:function(){var e,i,r,n,o=this,s=this.interaction,a=tS(s).resistance,l=(s._now()-this.t0)/1e3;if(l<this.te){var c,u=1-(Math.exp(-a*l)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=this.targetOffset.x,i=this.targetOffset.y,r=this.modifiedOffset.x,n=this.modifiedOffset.y,c={x:tO(u,0,e,r),y:tO(u,0,i,n)}):c={x:this.targetOffset.x*u,y:this.targetOffset.y*u};var p={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=p.x,this.currentOffset.y+=p.y,s.offsetBy(p),s.move(),this.onNextFrame(function(){return o.inertiaTick()})}else s.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,i=this.interaction,r=i._now()-this.t0,n=tS(i).smoothEndDuration;if(r<n){var o,s,a,l,c={x:(o=r,s=this.targetOffset.x,-s*(o/=n)*(o-2)+0),y:(a=r,l=this.targetOffset.y,-l*(a/=n)*(a-2)+0)},u={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=u.x,this.currentOffset.y+=u.y,i.offsetBy(u),i.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else i.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var i=e.pointer,r=e.event,n=e.eventTarget,o=this.interaction;o.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),o.updatePointer(i,r,n,!0),o._doPhase({interaction:o,event:r,phase:"resume"}),el(o.coords.prev,o.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,eY(this.timeout)}}]),e}();function tS(e){var i=e.interactable,r=e.prepared;return i&&i.options&&r.name&&i.options[r.name].inertia}function tO(e,i,r,n){var o=1-e;return o*o*i+2*o*e*r+e*e*n}function tE(e,i){for(var r=0;r<i.length;r++){var n=i[r];if(e.immediatePropagationStopped)break;n(e)}}var tP=function(){function e(i){o(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Z({},i||{})}return s(e,[{key:"fire",value:function(e){var i,r=this.global;(i=this.types[e.type])&&tE(e,i),!e.propagationStopped&&r&&(i=r[e.type])&&tE(e,i)}},{key:"on",value:function(e,i){var r=er(e,i);for(e in r)this.types[e]=ew(this.types[e]||[],r[e])}},{key:"off",value:function(e,i){var r=er(e,i);for(e in r){var n=this.types[e];if(n&&n.length)for(var o=0,s=r[e];o<s.length;o++){var a=s[o],l=n.indexOf(a);-1!==l&&n.splice(l,1)}}}},{key:"getRect",value:function(e){return null}}]),e}(),tM=function(){function e(i){o(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=i,ea(this,i)}return s(e,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),e}();function tk(e){return w(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function tD(e,i){return e===i||("boolean"==typeof e?!!i.capture===e&&!i.passive:!!e.capture==!!i.capture&&!!e.passive==!!i.passive)}var tI={id:"events",install:function(e){var i,r=[],n={},o=[],s={add:a,remove:l,addDelegate:function(e,i,r,s,l){var p=tk(l);if(!n[r]){n[r]=[];for(var h=0;h<o.length;h++){var d=o[h];a(d,r,c),a(d,r,u,!0)}}var f=n[r],v=eE(f,function(r){return r.selector===e&&r.context===i});v||(v={selector:e,context:i,listeners:[]},f.push(v)),v.listeners.push({func:s,options:p})},removeDelegate:function(e,i,r,o,s){var a,p=tk(s),h=n[r],d=!1;if(h)for(a=h.length-1;a>=0;a--){var f=h[a];if(f.selector===e&&f.context===i){for(var v=f.listeners,m=v.length-1;m>=0;m--){var g=v[m];if(g.func===o&&tD(g.options,p)){v.splice(m,1),v.length||(h.splice(a,1),l(i,r,c),l(i,r,u,!0)),d=!0;break}}if(d)break}}},delegateListener:c,delegateUseCapture:u,delegatedEvents:n,documents:o,targets:r,supportsOptions:!1,supportsPassive:!1};function a(e,i,n,o){if(e.addEventListener){var a=tk(o),l=eE(r,function(i){return i.eventTarget===e});l||(l={eventTarget:e,events:{}},r.push(l)),l.events[i]||(l.events[i]=[]),eE(l.events[i],function(e){return e.func===n&&tD(e.options,a)})||(e.addEventListener(i,n,s.supportsOptions?a:a.capture),l.events[i].push({func:n,options:a}))}}function l(e,i,n,o){if(e.addEventListener&&e.removeEventListener){var a=eO(r,function(i){return i.eventTarget===e}),c=r[a];if(c&&c.events)if("all"!==i){var u=!1,p=c.events[i];if(p){if("all"===n){for(var h=p.length-1;h>=0;h--){var d=p[h];l(e,i,d.func,d.options)}return}for(var f=tk(o),v=0;v<p.length;v++){var m=p[v];if(m.func===n&&tD(m.options,f)){e.removeEventListener(i,n,s.supportsOptions?f:f.capture),p.splice(v,1),0===p.length&&(delete c.events[i],u=!0);break}}}u&&!Object.keys(c.events).length&&r.splice(a,1)}else for(i in c.events)c.events.hasOwnProperty(i)&&l(e,i,"all")}}function c(e,i){for(var r=tk(i),o=new tM(e),s=n[e.type],a=ex(e)[0],l=a;D(l);){for(var c=0;c<s.length;c++){var u=s[c],p=u.selector,h=u.context;if(F(l,p)&&A(h,a)&&A(h,l)){var d=u.listeners;o.currentTarget=l;for(var f=0;f<d.length;f++){var v=d[f];tD(v.options,r)&&v.func(o)}}}l=W(l)}}function u(e){return c(e,!0)}return null==(i=e.document)||i.createElement("div").addEventListener("test",null,{get capture(){return s.supportsOptions=!0},get passive(){return s.supportsPassive=!0}}),e.events=s,s}},tC={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var i=0,r=tC.methodOrder;i<r.length;i++){var n=tC[r[i]](e);if(n)return n}return null},simulationResume:function(e){var i=e.pointerType,r=e.eventType,n=e.eventTarget,o=e.scope;if(!/down|start/i.test(r))return null;for(var s=0,a=o.interactions.list;s<a.length;s++){var l=a[s],c=n;if(l.simulation&&l.simulation.allowResume&&l.pointerType===i)for(;c;){if(c===l.element)return l;c=W(c)}}return null},mouseOrPen:function(e){var i,r=e.pointerId,n=e.pointerType,o=e.eventType,s=e.scope;if("mouse"!==n&&"pen"!==n)return null;for(var a=0,l=s.interactions.list;a<l.length;a++){var c=l[a];if(c.pointerType===n){if(c.simulation&&!tz(c,r))continue;if(c.interacting())return c;i||(i=c)}}if(i)return i;for(var u=0,p=s.interactions.list;u<p.length;u++){var h=p[u];if(!(h.pointerType!==n||/down/i.test(o)&&h.simulation))return h}return null},hasPointer:function(e){for(var i=e.pointerId,r=0,n=e.scope.interactions.list;r<n.length;r++){var o=n[r];if(tz(o,i))return o}return null},idle:function(e){for(var i=e.pointerType,r=0,n=e.scope.interactions.list;r<n.length;r++){var o=n[r];if(1===o.pointers.length){var s=o.interactable;if(s&&(!s.options.gesture||!s.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&i===o.pointerType)return o}return null}};function tz(e,i){return e.pointers.some(function(e){return e.id===i})}var t_=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function tj(e,i){return function(r){var n=i.interactions.list,o=ey(r),s=ex(r),a=s[0],l=s[1],c=[];if(/^touch/.test(r.type)){i.prevTouchTime=i.now();for(var u=0,p=r.changedTouches;u<p.length;u++){var h=p[u],d={pointer:h,pointerId:ed(h),pointerType:o,eventType:r.type,eventTarget:a,curEventTarget:l,scope:i},f=tR(d);c.push([d.pointer,d.eventTarget,d.curEventTarget,f])}}else{var v=!1;if(!$.supportsPointerEvent&&/mouse/.test(r.type)){for(var m=0;m<n.length&&!v;m++)v="mouse"!==n[m].pointerType&&n[m].pointerIsDown;v=v||i.now()-i.prevTouchTime<500||0===r.timeStamp}if(!v){var g={pointer:r,pointerId:ed(r),pointerType:o,eventType:r.type,curEventTarget:l,eventTarget:a,scope:i},b=tR(g);c.push([g.pointer,g.eventTarget,g.curEventTarget,b])}}for(var y=0;y<c.length;y++){var x=c[y],T=x[0],w=x[1],S=x[2];x[3][e](T,r,w,S)}}}function tR(e){var i=e.pointerType,r=e.scope,n={interaction:tC.search(e),searchDetails:e};return r.fire("interactions:find",n),n.interaction||r.interactions.new({pointerType:i})}function tL(e,i){var r=e.doc,n=e.scope,o=e.options,s=n.interactions.docEvents,a=n.events,l=a[i];for(var c in n.browser.isIOS&&!o.events&&(o.events={passive:!1}),a.delegatedEvents)l(r,c,a.delegateListener),l(r,c,a.delegateUseCapture,!0);for(var u=o&&o.events,p=0;p<s.length;p++){var h=s[p];l(r,h.type,h.listener,u)}}var t$={id:"core/interactions",install:function(e){for(var i={},r=0;r<t_.length;r++){var n=t_[r];i[n]=tj(n,e)}var l,c=$.pEventTypes;function u(){for(var i=0,r=e.interactions.list;i<r.length;i++){var n=r[i];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var o=0,s=n.pointers;o<s.length;o++)!function(){var i=s[o];e.documents.some(function(e){return A(e.doc,i.downTarget)})||n.removePointer(i.pointer,i.event)}()}}(l=R.PointerEvent?[{type:c.down,listener:u},{type:c.down,listener:i.pointerDown},{type:c.move,listener:i.pointerMove},{type:c.up,listener:i.pointerUp},{type:c.cancel,listener:i.pointerUp}]:[{type:"mousedown",listener:i.pointerDown},{type:"mousemove",listener:i.pointerMove},{type:"mouseup",listener:i.pointerUp},{type:"touchstart",listener:u},{type:"touchstart",listener:i.pointerDown},{type:"touchmove",listener:i.pointerMove},{type:"touchend",listener:i.pointerUp},{type:"touchcancel",listener:i.pointerUp}]).push({type:"blur",listener:function(i){for(var r=0,n=e.interactions.list;r<n.length;r++)n[r].documentBlur(i)}}),e.prevTouchTime=0,e.Interaction=function(i){a(n,i);var r=p(n);function n(){return o(this,n),r.apply(this,arguments)}return s(n,[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(i){e.interactions.pointerMoveTolerance=i}},{key:"_now",value:function(){return e.now()}}]),n}(tm),e.interactions={list:[],new:function(i){i.scopeFire=function(i,r){return e.fire(i,r)};var r=new e.Interaction(i);return e.interactions.list.push(r),r},listeners:i,docEvents:l,pointerMoveTolerance:1},e.usePlugin(ti)},listeners:{"scope:add-document":function(e){return tL(e,"add")},"scope:remove-document":function(e){return tL(e,"remove")},"interactable:unset":function(e,i){for(var r=e.interactable,n=i.interactions.list.length-1;n>=0;n--){var o=i.interactions.list[n];o.interactable===r&&(o.stop(),i.fire("interactions:destroy",{interaction:o}),o.destroy(),i.interactions.list.length>2&&i.interactions.list.splice(n,1))}}},onDocSignal:tL,doOnInteractions:tj,methodNames:t_},tA=((m=tA||{})[m.On=0]="On",m[m.Off=1]="Off",m),tH=function(){function e(i,r,n,s){o(this,e),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new tP,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=r.actions,this.target=i,this._context=r.context||n,this._win=T(B(i)?this._context:i),this._doc=this._win.document,this._scopeEvents=s,this.set(r)}return s(e,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,i){return S(i.onstart)&&this.on("".concat(e,"start"),i.onstart),S(i.onmove)&&this.on("".concat(e,"move"),i.onmove),S(i.onend)&&this.on("".concat(e,"end"),i.onend),S(i.oninertiastart)&&this.on("".concat(e,"inertiastart"),i.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,i,r){var n,o=this,s=null==(n=this._actions.map[e])?void 0:n.filterEventType,a=function(e){return(null==s||s(e))&&tr(e,o._actions)};(C(i)||w(i))&&this._onOff(tA.Off,e,i,void 0,a),(C(r)||w(r))&&this._onOff(tA.On,e,r,void 0,a)}},{key:"setPerAction",value:function(e,i){var r=this._defaults;for(var n in i){var o=this.options[e],s=i[n];"listeners"===n&&this.updatePerActionListeners(e,o.listeners,s),C(s)?o[n]=eS(s):I(s)?(o[n]=Z(o[n]||{},tn(s)),w(r.perAction[n])&&"enabled"in r.perAction[n]&&(o[n].enabled=!1!==s.enabled)):M(s)&&w(r.perAction[n])?o[n].enabled=s:o[n]=s}}},{key:"getRect",value:function(e){return e=e||(D(this.target)?this.target:null),k(this.target)&&(e=e||this._context.querySelector(this.target)),X(e)}},{key:"rectChecker",value:function(e){var i=this;return S(e)?(this.getRect=function(r){var n=Z({},e.apply(i,r));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===e?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,i){if(B(i)||w(i)){for(var r in this.options[e]=i,this._actions.map)this.options[r][e]=i;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return k(e)?Array.from(this._context.querySelectorAll(e)):S(e)&&e.getAllElements?e.getAllElements():D(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||A(this._context,e)}},{key:"testIgnoreAllow",value:function(e,i,r){return!this.testIgnore(e.ignoreFrom,i,r)&&this.testAllow(e.allowFrom,i,r)}},{key:"testAllow",value:function(e,i,r){return!e||!!D(r)&&(k(e)?N(r,e,i):!!D(e)&&A(e,r))}},{key:"testIgnore",value:function(e,i,r){return!(!e||!D(r))&&(k(e)?N(r,e,i):!!D(e)&&A(e,r))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,i,r,n,o){w(i)&&!C(i)&&(n=r,r=null);var s=er(i,r,o);for(var a in s){"wheel"===a&&(a=$.wheelEvent);for(var l=0,c=s[a];l<c.length;l++){var u=c[l];tr(a,this._actions)?this.events[e===tA.On?"on":"off"](a,u):k(this.target)?this._scopeEvents[e===tA.On?"addDelegate":"removeDelegate"](this.target,this._context,a,u,n):this._scopeEvents[e===tA.On?"add":"remove"](this.target,a,u,n)}}return this}},{key:"on",value:function(e,i,r){return this._onOff(tA.On,e,i,r)}},{key:"off",value:function(e,i,r){return this._onOff(tA.Off,e,i,r)}},{key:"set",value:function(e){var i=this._defaults;for(var r in w(e)||(e={}),this.options=tn(i.base),this._actions.methodDict){var n=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,Z(Z({},i.perAction),i.actions[r])),this[n](e[r])}for(var o in e)"getRect"!==o?S(this[o])&&this[o](e[o]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(k(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var i=this._scopeEvents.delegatedEvents[e],r=i.length-1;r>=0;r--){var n=i[r],o=n.selector,s=n.context,a=n.listeners;o===this.target&&s===this._context&&i.splice(r,1);for(var l=a.length-1;l>=0;l--)this._scopeEvents.removeDelegate(this.target,this._context,e,a[l][0],a[l][1])}else this._scopeEvents.remove(this.target,"all")}}]),e}(),tW=function(){function e(i){var r=this;o(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=i,i.addListeners({"interactable:unset":function(e){var i=e.interactable,n=i.target,o=k(n)?r.selectorMap[n]:n[r.scope.id],s=eO(o,function(e){return e===i});o.splice(s,1)}})}return s(e,[{key:"new",value:function(e,i){i=Z(i||{},{actions:this.scope.actions});var r=new this.scope.Interactable(e,i,this.scope.document,this.scope.events);return this.scope.addDocument(r._doc),this.list.push(r),k(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(r)):(r.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:e,options:i,interactable:r,win:this.scope._win}),r}},{key:"getExisting",value:function(e,i){var r=i&&i.context||this.scope.document,n=k(e),o=n?this.selectorMap[e]:e[this.scope.id];if(o)return eE(o,function(i){return i._context===r&&(n||i.inContext(e))})}},{key:"forEachMatch",value:function(e,i){for(var r=0,n=this.list;r<n.length;r++){var o=n[r],s=void 0;if((k(o.target)?D(e)&&F(e,o.target):e===o.target)&&o.inContext(e)&&(s=i(o)),void 0!==s)return s}}}]),e}();function tF(e){return e&&e.replace(/\/.*$/,"")}var tY=new(function(){function e(){var i,r,n=this;o(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=$,this.defaults=tn(tu),this.Eventable=tP,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(i=this,(r=function e(r,n){var o=i.interactables.getExisting(r,n);return o||((o=i.interactables.new(r,n)).events.global=e.globalEvents),o}).getPointerAverage=ev,r.getTouchBBox=em,r.getTouchDistance=eg,r.getTouchAngle=eb,r.getElementRect=X,r.getElementClientRect=K,r.matchesSelector=F,r.closest=H,r.globalEvents={},r.version="1.10.27",r.scope=i,r.use=function(e,i){return this.scope.usePlugin(e,i),this},r.isSet=function(e,i){return!!this.scope.interactables.get(e,i&&i.context)},r.on=eV(function(e,i,r){if(k(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),C(e)){for(var n=0,o=e;n<o.length;n++){var s=o[n];this.on(s,i,r)}return this}if(w(e)){for(var a in e)this.on(a,e[a],i);return this}return tr(e,this.scope.actions)?this.globalEvents[e]?this.globalEvents[e].push(i):this.globalEvents[e]=[i]:this.scope.events.add(this.scope.document,e,i,{options:r}),this},"The interact.on() method is being deprecated"),r.off=eV(function(e,i,r){if(k(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),C(e)){for(var n,o=0,s=e;o<s.length;o++){var a=s[o];this.off(a,i,r)}return this}if(w(e)){for(var l in e)this.off(l,e[l],i);return this}return tr(e,this.scope.actions)?e in this.globalEvents&&-1!==(n=this.globalEvents[e].indexOf(i))&&this.globalEvents[e].splice(n,1):this.scope.events.remove(this.scope.document,e,i,r),this},"The interact.off() method is being deprecated"),r.debug=function(){return this.scope},r.supportsTouch=function(){return $.supportsTouch},r.supportsPointerEvent=function(){return $.supportsPointerEvent},r.stop=function(){for(var e=0,i=this.scope.interactions.list;e<i.length;e++)i[e].stop();return this},r.pointerMoveTolerance=function(e){return P(e)?(this.scope.interactions.pointerMoveTolerance=e,this):this.scope.interactions.pointerMoveTolerance},r.addDocument=function(e,i){this.scope.addDocument(e,i)},r.removeDocument=function(e){this.scope.removeDocument(e)},r),this.InteractEvent=tp,this.Interactable=void 0,this.interactables=new tW(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(e){return n.removeDocument(e.target)};var c=this;this.Interactable=function(e){a(r,e);var i=p(r);function r(){return o(this,r),i.apply(this,arguments)}return s(r,[{key:"_defaults",get:function(){return c.defaults}},{key:"set",value:function(e){return h(l(r.prototype),"set",this).call(this,e),c.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){h(l(r.prototype),"unset",this).call(this);var e=c.interactables.list.indexOf(this);e<0||(c.interactables.list.splice(e,1),c.fire("interactable:unset",{interactable:this}))}}]),r}(tH)}return s(e,[{key:"addListeners",value:function(e,i){this.listenerMaps.push({id:i,map:e})}},{key:"fire",value:function(e,i){for(var r=0,n=this.listenerMaps;r<n.length;r++){var o=n[r].map[e];if(o&&!1===o(i,this,e))return!1}}},{key:"init",value:function(e){return this.isInitialized||(this.isInitialized=!0,O(e)&&x(e),R.init(e),$.init(e),eU(e),this.window=e,this.document=e.document,this.usePlugin(t$),this.usePlugin(tI)),this}},{key:"pluginIsInstalled",value:function(e){var i=e.id;return i?!!this._plugins.map[i]:-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,i){if(!this.isInitialized||this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,i),e.listeners&&e.before){for(var r=0,n=this.listenerMaps.length,o=e.before.reduce(function(e,i){return e[i]=!0,e[tF(i)]=!0,e},{});r<n;r++){var s=this.listenerMaps[r].id;if(s&&(o[s]||o[tF(s)]))break}this.listenerMaps.splice(r,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,i){if(-1!==this.getDocIndex(e))return!1;var r=T(e);i=i?Z({},i):{},this.documents.push({doc:e,options:i}),this.events.documents.push(e),e!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:r,scope:this,options:i})}},{key:"removeDocument",value:function(e){var i=this.getDocIndex(e),r=T(e),n=this.documents[i].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(i,1),this.events.documents.splice(i,1),this.fire("scope:remove-document",{doc:e,window:r,scope:this,options:n})}},{key:"getDocIndex",value:function(e){for(var i=0;i<this.documents.length;i++)if(this.documents[i].doc===e)return i;return -1}},{key:"getDocOptions",value:function(e){var i=this.getDocIndex(e);return -1===i?null:this.documents[i].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}()),tU=tY.interactStatic,tN="u">typeof globalThis?globalThis:window;tY.init(tN);var tG=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(e){var i=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(i){var r=i[0],n=i[1];return r in e||n in e}),r=function(r,n){for(var o=e.range,s=e.limits,a=void 0===s?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:s,l=e.offset,c=void 0===l?{x:0,y:0}:l,u={range:o,grid:e,x:null,y:null},p=0;p<i.length;p++){var h=i[p],d=h[0],f=h[1],v=Math.round((r-c.x)/e[d]),m=Math.round((n-c.y)/e[f]);u[d]=Math.max(a.left,Math.min(a.right,v*e[d]+c.x)),u[f]=Math.max(a.top,Math.min(a.bottom,m*e[f]+c.y))}return u};return r.grid=e,r.coordFields=i,r}}),tK={id:"snappers",install:function(e){var i=e.interactStatic;i.snappers=Z(i.snappers||{},tG),i.createSnapGrid=i.snappers.grid}};function tX(e,i,r){var n=e.startCoords,o=e.edgeSign;i?r.y=n.y+(r.x-n.x)*o.y:r.x=n.x+(r.y-n.y)*o.x}function tV(e,i,r,n){var o=e.startRect,s=e.startCoords,a=e.ratio,l=e.edgeSign;if(i){var c=n.width/a;r.y=s.y+(c-o.height)*l.y}else{var u=n.height*a;r.x=s.x+(u-o.width)*l.x}}var tB=ta({start:function(e){var i=e.state,n=e.rect,o=e.edges,s=e.pageCoords,a=i.options,l=a.ratio,c=a.enabled,u=i.options,p=u.equalDelta,h=u.modifiers;"preserve"===l&&(l=n.width/n.height),i.startCoords=Z({},s),i.startRect=Z({},n),i.ratio=l,i.equalDelta=p;var d=i.linkedEdges={top:o.top||o.left&&!o.bottom,left:o.left||o.top&&!o.right,bottom:o.bottom||o.right&&!o.top,right:o.right||o.bottom&&!o.left};if(i.xIsPrimaryAxis=!(!o.left&&!o.right),i.equalDelta){var f=(d.left?1:-1)*(d.top?1:-1);i.edgeSign={x:f,y:f}}else i.edgeSign={x:d.left?-1:1,y:d.top?-1:1};if(!1!==c&&Z(o,d),null!=h&&h.length){var v=new to(e.interaction);v.copyFrom(e.interaction.modification),v.prepareStates(h),i.subModification=v,v.startAll(r({},e))}},set:function(e){var i=e.state,n=e.rect,o=e.coords,s=i.linkedEdges,a=Z({},o),l=i.equalDelta?tX:tV;if(Z(e.edges,s),l(i,i.xIsPrimaryAxis,o,n),!i.subModification)return null;var c=Z({},n);et(s,c,{x:o.x-a.x,y:o.y-a.y});var u=i.subModification.setAll(r(r({},e),{},{rect:c,edges:s,pageCoords:o,prevCoords:o,prevRect:c})),p=u.delta;return u.changed&&(l(i,Math.abs(p.x)>Math.abs(p.y),u.coords,u.rect),Z(o,u.coords)),u.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}},"aspectRatio"),tZ=function(){};function tq(e,i,r){return S(e)?J(e,i.interactable,i.element,[r.x,r.y,i]):J(e,i.interactable,i.element)}tZ._defaults={};var tJ={start:function(e){var i=e.rect,r=e.startOffset,n=e.state,o=e.interaction,s=e.pageCoords,a=n.options,l=a.elementRect,c=Z({left:0,top:0,right:0,bottom:0},a.offset||{});if(i&&l){var u=tq(a.restriction,o,s);if(u){var p=u.right-u.left-i.width,h=u.bottom-u.top-i.height;p<0&&(c.left+=p,c.right+=p),h<0&&(c.top+=h,c.bottom+=h)}c.left+=r.left-i.width*l.left,c.top+=r.top-i.height*l.top,c.right+=r.right-i.width*(1-l.right),c.bottom+=r.bottom-i.height*(1-l.bottom)}n.offset=c},set:function(e){var i=e.coords,r=e.interaction,n=e.state,o=n.options,s=n.offset,a=tq(o.restriction,r,i);if(a){var l,c=(!(l=a)||"left"in l&&"top"in l||((l=Z({},l)).left=l.x||0,l.top=l.y||0,l.right=l.right||l.left+l.width,l.bottom=l.bottom||l.top+l.height),l);i.x=Math.max(Math.min(c.right-s.right,i.x),c.left+s.left),i.y=Math.max(Math.min(c.bottom-s.bottom,i.y),c.top+s.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},tQ=ta(tJ,"restrict"),t0={top:1/0,left:1/0,bottom:-1/0,right:-1/0},t1={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function t2(e,i){for(var r=0,n=["top","left","bottom","right"];r<n.length;r++){var o=n[r];o in e||(e[o]=i[o])}return e}var t3={noInner:t0,noOuter:t1,start:function(e){var i,r=e.interaction,n=e.startOffset,o=e.state,s=o.options;s&&(i=Q(tq(s.offset,r,r.coords.start.page))),o.offset={top:(i=i||{x:0,y:0}).y+n.top,left:i.x+n.left,bottom:i.y-n.bottom,right:i.x-n.right}},set:function(e){var i=e.coords,r=e.edges,n=e.interaction,o=e.state,s=o.offset,a=o.options;if(r){var l=Z({},i),c=tq(a.inner,n,l)||{},u=tq(a.outer,n,l)||{};t2(c,t0),t2(u,t1),r.top?i.y=Math.min(Math.max(u.top+s.top,l.y),c.top+s.top):r.bottom&&(i.y=Math.max(Math.min(u.bottom+s.bottom,l.y),c.bottom+s.bottom)),r.left?i.x=Math.min(Math.max(u.left+s.left,l.x),c.left+s.left):r.right&&(i.x=Math.max(Math.min(u.right+s.right,l.x),c.right+s.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},t5=ta(t3,"restrictEdges"),t6=Z({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},tJ.defaults),t4=ta({start:tJ.start,set:tJ.set,defaults:t6},"restrictRect"),t8={width:-1/0,height:-1/0},t9={width:1/0,height:1/0},t7=ta({start:function(e){return t3.start(e)},set:function(e){var i=e.interaction,r=e.state,n=e.rect,o=e.edges,s=r.options;if(o){var a=ee(tq(s.min,i,e.coords))||t8,l=ee(tq(s.max,i,e.coords))||t9;r.options={endOnly:s.endOnly,inner:Z({},t3.noInner),outer:Z({},t3.noOuter)},o.top?(r.options.inner.top=n.bottom-a.height,r.options.outer.top=n.bottom-l.height):o.bottom&&(r.options.inner.bottom=n.top+a.height,r.options.outer.bottom=n.top+l.height),o.left?(r.options.inner.left=n.right-a.width,r.options.outer.left=n.right-l.width):o.right&&(r.options.inner.right=n.left+a.width,r.options.outer.right=n.left+l.width),t3.set(e),r.options=s}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),ie={start:function(e){var i,r,n=e.interaction,o=e.interactable,s=e.element,a=e.rect,l=e.state,c=e.startOffset,u=l.options,p=u.offsetWithOrigin?(i=e.interaction.element,Q(J(e.state.options.origin,null,null,[i]))||ei(e.interactable,i,e.interaction.prepared.name)):{x:0,y:0};if("startCoords"===u.offset)r={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var h=J(u.offset,o,s,[n]);(r=Q(h)||{x:0,y:0}).x+=p.x,r.y+=p.y}var d=u.relativePoints;l.offsets=a&&d&&d.length?d.map(function(e,i){return{index:i,relativePoint:e,x:c.left-a.width*e.x+r.x,y:c.top-a.height*e.y+r.y}}):[{index:0,relativePoint:null,x:r.x,y:r.y}]},set:function(e){var i=e.interaction,r=e.coords,n=e.state,o=n.options,s=n.offsets,a=ei(i.interactable,i.element,i.prepared.name),l=Z({},r),c=[];o.offsetWithOrigin||(l.x-=a.x,l.y-=a.y);for(var u=0;u<s.length;u++)for(var p=s[u],h=l.x-p.x,d=l.y-p.y,f=0,v=o.targets.length;f<v;f++){var m=o.targets[f],g=void 0;(g=S(m)?m(h,d,i._proxy,p,f):m)&&c.push({x:(P(g.x)?g.x:h)+p.x,y:(P(g.y)?g.y:d)+p.y,range:P(g.range)?g.range:o.range,source:m,index:f,offset:p})}for(var b={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},y=0;y<c.length;y++){var x=c[y],T=x.range,w=x.x-l.x,O=x.y-l.y,E=eo(w,O),M=E<=T;T===1/0&&b.inRange&&b.range!==1/0&&(M=!1),(!b.target||(M?b.inRange&&T!==1/0?E/T<b.distance/b.range:T===1/0&&b.range!==1/0||E<b.distance:!b.inRange&&E<b.distance))&&(b.target=x,b.distance=E,b.range=T,b.inRange=M,b.delta.x=w,b.delta.y=O)}return b.inRange&&(r.x=b.target.x,r.y=b.target.y),n.closest=b,b},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},it=ta(ie,"snap"),ii={start:function(e){var i=e.state,r=e.edges,n=i.options;if(!r)return null;e.state={options:{targets:null,relativePoints:[{x:+!r.left,y:+!r.top}],offset:n.offset||"self",origin:{x:0,y:0},range:n.range}},i.targetFields=i.targetFields||[["width","height"],["x","y"]],ie.start(e),i.offsets=e.state.offsets,e.state=i},set:function(e){var i=e.interaction,r=e.state,n=e.coords,o=r.options,s=r.offsets,a={x:n.x-s[0].x,y:n.y-s[0].y};r.options=Z({},o),r.options.targets=[];for(var l=0,c=o.targets||[];l<c.length;l++){var u=c[l],p=void 0;if(p=S(u)?u(a.x,a.y,i):u){for(var h=0,d=r.targetFields;h<d.length;h++){var f=d[h],v=f[0],m=f[1];if(v in p||m in p){p.x=p[v],p.y=p[m];break}}r.options.targets.push(p)}}var g=ie.set(e);return r.options=o,g},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},ir=ta(ii,"snapSize"),io={aspectRatio:tB,restrictEdges:t5,restrict:tQ,restrictRect:t4,restrictSize:t7,snapEdges:ta({start:function(e){var i=e.edges;return i?(e.state.targetFields=e.state.targetFields||[[i.left?"left":"right",i.top?"top":"bottom"]],ii.start(e)):null},set:ii.set,defaults:Z(tn(ii.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:it,snapSize:ir,spring:tZ,avoid:tZ,transform:tZ,rubberband:tZ},is=function(e){a(r,e);var i=p(r);function r(e,n,s,a,l,c){var p;if(o(this,r),ea(u(p=i.call(this,l)),s),s!==n&&ea(u(p),n),p.timeStamp=c,p.originalEvent=s,p.type=e,p.pointerId=ed(n),p.pointerType=ey(n),p.target=a,p.currentTarget=null,"tap"===e){var h=l.getPointerIndex(n);p.dt=p.timeStamp-l.pointers[h].downTime;var d=p.timeStamp-l.tapTime;p.double=!!l.prevTap&&"doubletap"!==l.prevTap.type&&l.prevTap.target===p.target&&d<500}else"doubletap"===e&&(p.dt=n.timeStamp-l.tapTime,p.double=!0);return p}return s(r,[{key:"_subtractOrigin",value:function(e){var i=e.x,r=e.y;return this.pageX-=i,this.pageY-=r,this.clientX-=i,this.clientY-=r,this}},{key:"_addOrigin",value:function(e){var i=e.x,r=e.y;return this.pageX+=i,this.pageY+=r,this.clientX+=i,this.clientY+=r,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),r}(eT),ia={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=ia,e.defaults.actions.pointerEvents=ia.defaults,Z(e.actions.phaselessTypes,ia.types)},listeners:{"interactions:new":function(e){var i=e.interaction;i.prevTap=null,i.tapTime=0},"interactions:update-pointer":function(e){var i=e.down,r=e.pointerInfo;!i&&r.hold||(r.hold={duration:1/0,timeout:null})},"interactions:move":function(e,i){var r=e.interaction,n=e.pointer,o=e.event,s=e.eventTarget;e.duplicate||r.pointerIsDown&&!r.pointerWasMoved||(r.pointerIsDown&&iu(e),il({interaction:r,pointer:n,event:o,eventTarget:s,type:"move"},i))},"interactions:down":function(e,i){(function(e,i){for(var r=e.interaction,n=e.pointer,o=e.event,s=e.eventTarget,a=e.pointerIndex,l=r.pointers[a].hold,c=V(s),u={interaction:r,pointer:n,event:o,eventTarget:s,type:"hold",targets:[],path:c,node:null},p=0;p<c.length;p++)u.node=c[p],i.fire("pointerEvents:collect-targets",u);if(u.targets.length){for(var h=1/0,d=0,f=u.targets;d<f.length;d++){var v=f[d].eventable.options.holdDuration;v<h&&(h=v)}l.duration=h,l.timeout=setTimeout(function(){il({interaction:r,eventTarget:s,pointer:n,event:o,type:"hold"},i)},h)}})(e,i),il(e,i)},"interactions:up":function(e,i){var r,n,o,s;iu(e),il(e,i),r=e.interaction,n=e.pointer,o=e.event,s=e.eventTarget,r.pointerWasMoved||il({interaction:r,eventTarget:s,pointer:n,event:o,type:"tap"},i)},"interactions:cancel":function(e,i){iu(e),il(e,i)}},PointerEvent:is,fire:il,collectEventTargets:ic,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function il(e,i){var r=e.interaction,n=e.pointer,o=e.event,s=e.eventTarget,a=e.type,l=e.targets,c=void 0===l?ic(e,i):l,u=new is(a,n,o,s,r,i.now());i.fire("pointerEvents:new",{pointerEvent:u});for(var p=0;p<c.length;p++){var h=c[p];for(var d in h.props||{})u[d]=h.props[d];var f=ei(h.eventable,h.node);if(u._subtractOrigin(f),u.eventable=h.eventable,u.currentTarget=h.node,h.eventable.fire(u),u._addOrigin(f),u.immediatePropagationStopped||u.propagationStopped&&p+1<c.length&&c[p+1].node!==u.currentTarget)break}if(i.fire("pointerEvents:fired",{interaction:r,pointer:n,event:o,eventTarget:s,targets:c,type:a,pointerEvent:u}),"tap"===a){var v=u.double?il({interaction:r,pointer:n,event:o,eventTarget:s,type:"doubletap"},i):u;r.prevTap=v,r.tapTime=v.timeStamp}return u}function ic(e,i){var r=e.interaction,n=e.pointer,o=e.event,s=e.eventTarget,a=e.type,l=r.getPointerIndex(n),c=r.pointers[l];if("tap"===a&&(r.pointerWasMoved||!c||c.downTarget!==s))return[];for(var u=V(s),p={interaction:r,pointer:n,event:o,eventTarget:s,type:a,path:u,targets:[],node:null},h=0;h<u.length;h++)p.node=u[h],i.fire("pointerEvents:collect-targets",p);return"hold"===a&&(p.targets=p.targets.filter(function(e){var i,n;return e.eventable.options.holdDuration===(null==(i=r.pointers[l])||null==(n=i.hold)?void 0:n.duration)})),p.targets}function iu(e){var i=e.interaction,r=e.pointerIndex,n=i.pointers[r].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}var ip=Object.freeze({__proto__:null,default:ia});function ih(e){var i=e.interaction;i.holdIntervalHandle&&(clearInterval(i.holdIntervalHandle),i.holdIntervalHandle=null)}var id={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(ia);var i=e.pointerEvents;i.defaults.holdRepeatInterval=0,i.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,i){return e["pointerEvents:".concat(i)]=ih,e},{"pointerEvents:new":function(e){var i=e.pointerEvent;"hold"===i.type&&(i.count=(i.count||0)+1)},"pointerEvents:fired":function(e,i){var r=e.interaction,n=e.pointerEvent,o=e.eventTarget,s=e.targets;if("hold"===n.type&&s.length){var a=s[0].eventable.options.holdRepeatInterval;a<=0||(r.holdIntervalHandle=setTimeout(function(){i.pointerEvents.fire({interaction:r,eventTarget:o,type:"hold",pointer:n,event:n},i)},a))}}})},iv={id:"pointer-events/interactableTargets",install:function(e){var i=e.Interactable;i.prototype.pointerEvents=function(e){return Z(this.events.options,e),this};var r=i.prototype._backCompatOption;i.prototype._backCompatOption=function(e,i){var n=r.call(this,e,i);return n===this&&(this.events.options[e]=i),n}},listeners:{"pointerEvents:collect-targets":function(e,i){var r=e.targets,n=e.node,o=e.type,s=e.eventTarget;i.interactables.forEachMatch(n,function(e){var i=e.events,a=i.options;i.types[o]&&i.types[o].length&&e.testIgnoreAllow(a,n,s)&&r.push({node:n,eventable:i,props:{interactable:e}})})},"interactable:new":function(e){var i=e.interactable;i.events.getRect=function(e){return i.getRect(e)}},"interactable:set":function(e,i){var r=e.interactable,n=e.options;Z(r.events.options,i.pointerEvents.defaults),Z(r.events.options,n.pointerEvents||{})}}};if(tU.use(ti),tU.use(tT),tU.use({id:"pointer-events",install:function(e){e.usePlugin(ip),e.usePlugin(id),e.usePlugin(iv)}}),tU.use({id:"inertia",before:["modifiers","actions"],install:function(e){var i=e.defaults;e.usePlugin(tT),e.usePlugin(tc),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,i.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var i=e.interaction;i.inertia=new tw(i)},"interactions:before-action-end":function(e){var i=e.interaction,r=e.event;return(!i._interacting||i.simulation||!i.inertia.start(r))&&null},"interactions:down":function(e){var i=e.interaction,r=e.eventTarget,n=i.inertia;if(n.active)for(var o=r;D(o);){if(o===i.element){n.resume(e);break}o=W(o)}},"interactions:stop":function(e){var i=e.interaction.inertia;i.active&&i.stop()},"interactions:before-action-resume":function(e){var i=e.interaction.modification;i.stop(e),i.start(e,e.interaction.coords.cur.page),i.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":tl,"interactions:action-inertiastart":tl,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}}),tU.use({id:"modifiers",install:function(e){var i=e.interactStatic;for(var r in e.usePlugin(tc),e.usePlugin(tK),i.modifiers=io,io){var n=io[r],o=n._defaults;o._methods=n._methods,e.defaults.perAction[r]=o}}}),tU.use({id:"auto-start",install:function(e){e.usePlugin(e4),e.usePlugin(e7),e.usePlugin(e8)}}),tU.use({id:"actions",install:function(e){e.usePlugin(eR),e.usePlugin(eH),e.usePlugin(j),e.usePlugin(e_)}}),tU.use(eX),tU.use({id:"reflow",install:function(e){var i=e.Interactable;e.actions.phases.reflow=!0,i.prototype.reflow=function(i){return function(e,i,r){for(var n=e.getAllElements(),o=r.window.Promise,s=o?[]:null,a=0;a<n.length&&!function(){var l=n[a],c=e.getRect(l);if(!c)return 1;var u,p=eE(r.interactions.list,function(r){return r.interacting()&&r.interactable===e&&r.element===l&&r.prepared.name===i.name});if(p)p.move(),s&&(u=p._reflowPromise||new o(function(e){p._reflowResolve=e}));else{var h,d,f,v,m=ee(c),g={coords:{page:{x:m.x,y:m.y},client:{x:m.x,y:m.y},timeStamp:r.now()},get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}};d={interaction:h=r.interactions.new({pointerType:"reflow"}),event:g,pointer:g,eventTarget:l,phase:"reflow"},h.interactable=e,h.element=l,h.prevEvent=g,h.updatePointer(g,g,l,!0),ec(h.coords.delta),eB(h.prepared,i),h._doPhase(d),v=(f=r.window.Promise)?new f(function(e){h._reflowResolve=e}):void 0,h._reflowPromise=v,h.start(i,e,l),h._interacting?(h.move(d),h.end(g)):(h.stop(),h._reflowResolve()),h.removePointer(g,g),u=v}s&&s.push(u)}();a++);return s&&o.all(s).then(function(){return e})}(this,i,e)}},listeners:{"interactions:stop":function(e,i){var r,n=e.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),r=i.interactions.list,r.splice(r.indexOf(n),1))}}}),tU.default=tU,"object"===n(e)&&e)try{e.exports=tU}catch{}return tU.default=tU,tU}()}(f,f.exports);let v=d(f.exports);var m={exports:{}};!function(e,i){var r,n,o,s,a,l,c,u,p,h,d,f,v,m,g,b,y,x,T,w,S,O;r="millisecond",n="second",o="minute",s="hour",a="week",l="month",c="quarter",u="year",p="date",h="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v=function(e,i,r){var n=String(e);return!n||n.length>=i?e:""+Array(i+1-n.length).join(r)+e},(g={})[m="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var i=["th","st","nd","rd"],r=e%100;return"["+e+(i[(r-20)%10]||i[r]||i[0])+"]"}},b="$isDayjsObject",y=function(e){return e instanceof S||!(!e||!e[b])},x=function e(i,r,n){var o;if(!i)return m;if("string"==typeof i){var s=i.toLowerCase();g[s]&&(o=s),r&&(g[s]=r,o=s);var a=i.split("-");if(!o&&a.length>1)return e(a[0])}else{var l=i.name;g[l]=i,o=l}return!n&&o&&(m=o),o||!n&&m},T=function(e,i){if(y(e))return e.clone();var r="object"==typeof i?i:{};return r.date=e,r.args=arguments,new S(r)},(w={s:v,z:function(e){var i=-e.utcOffset(),r=Math.abs(i);return(i<=0?"+":"-")+v(Math.floor(r/60),2,"0")+":"+v(r%60,2,"0")},m:function e(i,r){if(i.date()<r.date())return-e(r,i);var n=12*(r.year()-i.year())+(r.month()-i.month()),o=i.clone().add(n,l),s=r-o<0,a=i.clone().add(n+(s?-1:1),l);return+(-(n+(r-o)/(s?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return({M:l,y:u,w:a,d:"day",D:p,h:s,m:o,s:n,ms:r,Q:c})[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}}).l=x,w.i=y,w.w=function(e,i){return T(e,{locale:i.$L,utc:i.$u,x:i.$x,$offset:i.$offset})},O=(S=function(){function e(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[b]=!0}var i=e.prototype;return i.parse=function(e){this.$d=function(e){var i=e.date,r=e.utc;if(null===i)return new Date(NaN);if(w.u(i))return new Date;if(i instanceof Date)return new Date(i);if("string"==typeof i&&!/Z$/i.test(i)){var n=i.match(d);if(n){var o=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(i)}(e),this.init()},i.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},i.$utils=function(){return w},i.isValid=function(){return this.$d.toString()!==h},i.isSame=function(e,i){var r=T(e);return this.startOf(i)<=r&&r<=this.endOf(i)},i.isAfter=function(e,i){return T(e)<this.startOf(i)},i.isBefore=function(e,i){return this.endOf(i)<T(e)},i.$g=function(e,i,r){return w.u(e)?this[i]:this.set(r,e)},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this.$d.getTime()},i.startOf=function(e,i){var r=this,c=!!w.u(i)||i,h=w.p(e),d=function(e,i){var n=w.w(r.$u?Date.UTC(r.$y,i,e):new Date(r.$y,i,e),r);return c?n:n.endOf("day")},f=function(e,i){return w.w(r.toDate()[e].apply(r.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(i)),r)},v=this.$W,m=this.$M,g=this.$D,b="set"+(this.$u?"UTC":"");switch(h){case u:return c?d(1,0):d(31,11);case l:return c?d(1,m):d(0,m+1);case a:var y=this.$locale().weekStart||0,x=(v<y?v+7:v)-y;return d(c?g-x:g+(6-x),m);case"day":case p:return f(b+"Hours",0);case s:return f(b+"Minutes",1);case o:return f(b+"Seconds",2);case n:return f(b+"Milliseconds",3);default:return this.clone()}},i.endOf=function(e){return this.startOf(e,!1)},i.$set=function(e,i){var a,c=w.p(e),h="set"+(this.$u?"UTC":""),d=((a={}).day=h+"Date",a[p]=h+"Date",a[l]=h+"Month",a[u]=h+"FullYear",a[s]=h+"Hours",a[o]=h+"Minutes",a[n]=h+"Seconds",a[r]=h+"Milliseconds",a)[c],f="day"===c?this.$D+(i-this.$W):i;if(c===l||c===u){var v=this.clone().set(p,1);v.$d[d](f),v.init(),this.$d=v.set(p,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](f);return this.init(),this},i.set=function(e,i){return this.clone().$set(e,i)},i.get=function(e){return this[w.p(e)]()},i.add=function(e,i){var r,c=this;e=Number(e);var p=w.p(i),h=function(i){var r=T(c);return w.w(r.date(r.date()+Math.round(i*e)),c)};if(p===l)return this.set(l,this.$M+e);if(p===u)return this.set(u,this.$y+e);if("day"===p)return h(1);if(p===a)return h(7);var d=((r={})[o]=6e4,r[s]=36e5,r[n]=1e3,r)[p]||1,f=this.$d.getTime()+e*d;return w.w(f,this)},i.subtract=function(e,i){return this.add(-1*e,i)},i.format=function(e){var i=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",o=w.z(this),s=this.$H,a=this.$m,l=this.$M,c=r.weekdays,u=r.months,p=r.meridiem,d=function(e,r,o,s){return e&&(e[r]||e(i,n))||o[r].slice(0,s)},v=function(e){return w.s(s%12||12,e,"0")},m=p||function(e,i,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(f,function(e,n){return n||function(e){switch(e){case"YY":return String(i.$y).slice(-2);case"YYYY":return w.s(i.$y,4,"0");case"M":return l+1;case"MM":return w.s(l+1,2,"0");case"MMM":return d(r.monthsShort,l,u,3);case"MMMM":return d(u,l);case"D":return i.$D;case"DD":return w.s(i.$D,2,"0");case"d":return String(i.$W);case"dd":return d(r.weekdaysMin,i.$W,c,2);case"ddd":return d(r.weekdaysShort,i.$W,c,3);case"dddd":return c[i.$W];case"H":return String(s);case"HH":return w.s(s,2,"0");case"h":return v(1);case"hh":return v(2);case"a":return m(s,a,!0);case"A":return m(s,a,!1);case"m":return String(a);case"mm":return w.s(a,2,"0");case"s":return String(i.$s);case"ss":return w.s(i.$s,2,"0");case"SSS":return w.s(i.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")})},i.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},i.diff=function(e,i,r){var p,h=this,d=w.p(i),f=T(e),v=(f.utcOffset()-this.utcOffset())*6e4,m=this-f,g=function(){return w.m(h,f)};switch(d){case u:p=g()/12;break;case l:p=g();break;case c:p=g()/3;break;case a:p=(m-v)/6048e5;break;case"day":p=(m-v)/864e5;break;case s:p=m/36e5;break;case o:p=m/6e4;break;case n:p=m/1e3;break;default:p=m}return r?p:w.a(p)},i.daysInMonth=function(){return this.endOf(l).$D},i.$locale=function(){return g[this.$L]},i.locale=function(e,i){if(!e)return this.$L;var r=this.clone(),n=x(e,i,!0);return n&&(r.$L=n),r},i.clone=function(){return w.w(this.$d,this)},i.toDate=function(){return new Date(this.valueOf())},i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toISOString=function(){return this.$d.toISOString()},i.toString=function(){return this.$d.toUTCString()},e}()).prototype,T.prototype=O,[["$ms",r],["$s",n],["$m",o],["$H",s],["$W","day"],["$M",l],["$y",u],["$D",p]].forEach(function(e){O[e[1]]=function(i){return this.$g(i,e[0],e[1])}}),T.extend=function(e,i){return e.$i||(e(i,S,T),e.$i=!0),T},T.locale=x,T.isDayjs=y,T.unix=function(e){return T(1e3*e)},T.en=g[m],T.Ls=g,T.p={},e.exports=T}(m);let g=d(m.exports);var b={exports:{}};!function(e,i){var r,n,o;r="minute",n=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g,e.exports=function(e,i,s){var a=i.prototype;s.utc=function(e){var r={date:e,utc:!0,args:arguments};return new i(r)},a.utc=function(e){var i=s(this.toDate(),{locale:this.$L,utc:!0});return e?i.add(this.utcOffset(),r):i},a.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var l=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),l.call(this,e)};var c=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var u=a.utcOffset;a.utcOffset=function(e,i){var s=this.$utils().u;if(s(e))return this.$u?0:s(this.$offset)?u.call(this):this.$offset;if("string"==typeof e&&null===(e=function(e){void 0===e&&(e="");var i=e.match(n);if(!i)return null;var r=(""+i[0]).match(o)||["-",0,0],s=r[0],a=60*r[1]+ +r[2];return 0===a?0:"+"===s?a:-a}(e)))return this;var a=16>=Math.abs(e)?60*e:e,l=this;if(i)return l.$offset=a,l.$u=0===e,l;if(0!==e){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(l=this.local().add(a+c,r)).$offset=a,l.$x.$localOffset=c}else l=this.utc();return l};var p=a.format;a.format=function(e){var i=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,i)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var h=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var d=a.diff;a.diff=function(e,i,r){if(e&&this.$u===e.$u)return d.call(this,e,i,r);var n=this.local(),o=s(e).local();return d.call(n,o,i,r)}}}(b);let y=d(b.exports);var x=function(e,i){return e===i||e!=e&&i!=i},T=function(e,i){for(var r=e.length;r--;)if(x(e[r][0],i))return r;return -1},w=Array.prototype.splice;function S(e){var i=-1,r=null==e?0:e.length;for(this.clear();++i<r;){var n=e[i];this.set(n[0],n[1])}}S.prototype.clear=function(){this.__data__=[],this.size=0},S.prototype.delete=function(e){var i=this.__data__,r=T(i,e);return!(r<0)&&(r==i.length-1?i.pop():w.call(i,r,1),--this.size,!0)},S.prototype.get=function(e){var i=this.__data__,r=T(i,e);return r<0?void 0:i[r][1]},S.prototype.has=function(e){return T(this.__data__,e)>-1},S.prototype.set=function(e,i){var r=this.__data__,n=T(r,e);return n<0?(++this.size,r.push([e,i])):r[n][1]=i,this};var O="object"==typeof h&&h&&h.Object===Object&&h,E="object"==typeof self&&self&&self.Object===Object&&self,P=O||E||Function("return this")(),M=P.Symbol,k=Object.prototype,D=k.hasOwnProperty,I=k.toString,C=M?M.toStringTag:void 0,z=Object.prototype.toString,_=function(e){var i=D.call(e,C),r=e[C];try{e[C]=void 0;var n=!0}catch{}var o=I.call(e);return n&&(i?e[C]=r:delete e[C]),o},j=M?M.toStringTag:void 0,R=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":j&&j in Object(e)?_(e):z.call(e)},L=function(e){var i=typeof e;return null!=e&&("object"==i||"function"==i)},$=function(e){if(!L(e))return!1;var i=R(e);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i},A=P["__core-js_shared__"],H=function(){var e=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),W=Function.prototype.toString,F=function(e){if(null!=e){try{return W.call(e)}catch{}try{return e+""}catch{}}return""},Y=/^\[object .+?Constructor\]$/,U=Object.prototype,N=Function.prototype.toString,G=U.hasOwnProperty,K=RegExp("^"+N.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=function(e){return!!L(e)&&(!H||!(H in e))&&($(e)?K:Y).test(F(e))},V=function(e,i){var r=null==e?void 0:e[i];return X(r)?r:void 0},B=V(P,"Map"),Z=V(Object,"create"),q=Object.prototype.hasOwnProperty,J=Object.prototype.hasOwnProperty;function Q(e){var i=-1,r=null==e?0:e.length;for(this.clear();++i<r;){var n=e[i];this.set(n[0],n[1])}}Q.prototype.clear=function(){this.__data__=Z?Z(null):{},this.size=0},Q.prototype.delete=function(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=!!i,i},Q.prototype.get=function(e){var i=this.__data__;if(Z){var r=i[e];return"__lodash_hash_undefined__"===r?void 0:r}return q.call(i,e)?i[e]:void 0},Q.prototype.has=function(e){var i=this.__data__;return Z?void 0!==i[e]:J.call(i,e)},Q.prototype.set=function(e,i){var r=this.__data__;return this.size+=+!this.has(e),r[e]=Z&&void 0===i?"__lodash_hash_undefined__":i,this};var ee=function(e){var i=typeof e;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==e:null===e},et=function(e,i){var r=e.__data__;return ee(i)?r["string"==typeof i?"string":"hash"]:r.map};function ei(e){var i=-1,r=null==e?0:e.length;for(this.clear();++i<r;){var n=e[i];this.set(n[0],n[1])}}function er(e){var i=this.__data__=new S(e);this.size=i.size}function en(e){var i=-1,r=null==e?0:e.length;for(this.__data__=new ei;++i<r;)this.add(e[i])}ei.prototype.clear=function(){this.size=0,this.__data__={hash:new Q,map:new(B||S),string:new Q}},ei.prototype.delete=function(e){var i=et(this,e).delete(e);return this.size-=!!i,i},ei.prototype.get=function(e){return et(this,e).get(e)},ei.prototype.has=function(e){return et(this,e).has(e)},ei.prototype.set=function(e,i){var r=et(this,e),n=r.size;return r.set(e,i),this.size+=+(r.size!=n),this},er.prototype.clear=function(){this.__data__=new S,this.size=0},er.prototype.delete=function(e){var i=this.__data__,r=i.delete(e);return this.size=i.size,r},er.prototype.get=function(e){return this.__data__.get(e)},er.prototype.has=function(e){return this.__data__.has(e)},er.prototype.set=function(e,i){var r=this.__data__;if(r instanceof S){var n=r.__data__;if(!B||n.length<199)return n.push([e,i]),this.size=++r.size,this;r=this.__data__=new ei(n)}return r.set(e,i),this.size=r.size,this},en.prototype.add=en.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},en.prototype.has=function(e){return this.__data__.has(e)};var eo=function(e,i){for(var r=-1,n=null==e?0:e.length;++r<n;)if(i(e[r],r,e))return!0;return!1},es=function(e,i,r,n,o,s){var a=1&r,l=e.length,c=i.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),p=s.get(i);if(u&&p)return u==i&&p==e;var h=-1,d=!0,f=2&r?new en:void 0;for(s.set(e,i),s.set(i,e);++h<l;){var v=e[h],m=i[h];if(n)var g=a?n(m,v,h,i,e,s):n(v,m,h,e,i,s);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!eo(i,function(e,i){if(!f.has(i)&&(v===e||o(v,e,r,n,s)))return f.push(i)})){d=!1;break}}else if(!(v===m||o(v,m,r,n,s))){d=!1;break}}return s.delete(e),s.delete(i),d},ea=P.Uint8Array,el=function(e){var i=-1,r=Array(e.size);return e.forEach(function(e,n){r[++i]=[n,e]}),r},ec=function(e){var i=-1,r=Array(e.size);return e.forEach(function(e){r[++i]=e}),r},eu=M?M.prototype:void 0,ep=eu?eu.valueOf:void 0,eh=Array.isArray,ed=function(e,i){for(var r=-1,n=i.length,o=e.length;++r<n;)e[o+r]=i[r];return e},ef=function(e,i){for(var r=-1,n=null==e?0:e.length,o=0,s=[];++r<n;){var a=e[r];i(a,r,e)&&(s[o++]=a)}return s},ev=Object.prototype.propertyIsEnumerable,em=Object.getOwnPropertySymbols,eg=em?function(e){return null==e?[]:ef(em(e=Object(e)),function(i){return ev.call(e,i)})}:function(){return[]},eb=function(e){return null!=e&&"object"==typeof e},ey=function(e){return eb(e)&&"[object Arguments]"==R(e)},ex=Object.prototype,eT=ex.hasOwnProperty,ew=ex.propertyIsEnumerable,eS=ey(function(){return arguments}())?ey:function(e){return eb(e)&&eT.call(e,"callee")&&!ew.call(e,"callee")},eO={exports:{}},eE=function(){return!1};eO.exports,function(e,i){var r=i&&!i.nodeType&&i,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?P.Buffer:void 0;e.exports=(o?o.isBuffer:void 0)||eE}(eO,eO.exports);var eP=eO.exports,eM=/^(?:0|[1-9]\d*)$/,ek=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff},eD={};eD["[object Float32Array]"]=eD["[object Float64Array]"]=eD["[object Int8Array]"]=eD["[object Int16Array]"]=eD["[object Int32Array]"]=eD["[object Uint8Array]"]=eD["[object Uint8ClampedArray]"]=eD["[object Uint16Array]"]=eD["[object Uint32Array]"]=!0,eD["[object Arguments]"]=eD["[object Array]"]=eD["[object ArrayBuffer]"]=eD["[object Boolean]"]=eD["[object DataView]"]=eD["[object Date]"]=eD["[object Error]"]=eD["[object Function]"]=eD["[object Map]"]=eD["[object Number]"]=eD["[object Object]"]=eD["[object RegExp]"]=eD["[object Set]"]=eD["[object String]"]=eD["[object WeakMap]"]=!1;var eI={exports:{}};eI.exports,function(e,i){var r=i&&!i.nodeType&&i,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r&&O.process;e.exports=function(){try{return n&&n.require&&n.require("util").types||o&&o.binding&&o.binding("util")}catch{}}()}(eI,eI.exports);var eC=eI.exports,ez=eC&&eC.isTypedArray,e_=ez?function(e){return ez(e)}:function(e){return eb(e)&&ek(e.length)&&!!eD[R(e)]},ej=function(e,i){for(var r=-1,n=Array(e);++r<e;)n[r]=i(r);return n},eR=function(e,i){var r=typeof e;return!!(i=i??0x1fffffffffffff)&&("number"==r||"symbol"!=r&&eM.test(e))&&e>-1&&e%1==0&&e<i},eL=Object.prototype.hasOwnProperty,e$=Object.prototype,eA=(n=Object.keys,o=Object,function(e){return n(o(e))}),eH=function(e){var i=e&&e.constructor;return e===("function"==typeof i&&i.prototype||e$)},eW=Object.prototype.hasOwnProperty,eF=function(e,i){var r=eh(e),n=!r&&eS(e),o=!r&&!n&&eP(e),s=!r&&!n&&!o&&e_(e),a=r||n||o||s,l=a?ej(e.length,String):[],c=l.length;for(var u in e)(i||eL.call(e,u))&&!(a&&("length"==u||o&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||eR(u,c)))&&l.push(u);return l},eY=function(e){if(!eH(e))return eA(e);var i=[];for(var r in Object(e))eW.call(e,r)&&"constructor"!=r&&i.push(r);return i},eU=function(e,i,r){var n=i(e);return eh(e)?n:ed(n,r(e))},eN=function(e){return null!=e&&ek(e.length)&&!$(e)?eF(e):eY(e)},eG=function(e){return eU(e,eN,eg)},eK=Object.prototype.hasOwnProperty,eX=V(P,"DataView"),eV=V(P,"Promise"),eB=V(P,"Set"),eZ=V(P,"WeakMap"),eq="[object Map]",eJ="[object Promise]",eQ="[object Set]",e0="[object WeakMap]",e1="[object DataView]",e2=F(eX),e3=F(B),e5=F(eV),e6=F(eB),e4=F(eZ),e8=R;(eX&&e8(new eX(new ArrayBuffer(1)))!=e1||B&&e8(new B)!=eq||eV&&e8(eV.resolve())!=eJ||eB&&e8(new eB)!=eQ||eZ&&e8(new eZ)!=e0)&&(e8=function(e){var i=R(e),r="[object Object]"==i?e.constructor:void 0,n=r?F(r):"";if(n)switch(n){case e2:return e1;case e3:return eq;case e5:return eJ;case e6:return eQ;case e4:return e0}return i});var e9=e8,e7=function(e,i,r,n,o,s,a){switch(r){case"[object DataView]":if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)break;e=e.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=i.byteLength||!s(new ea(e),new ea(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return x(+e,+i);case"[object Error]":return e.name==i.name&&e.message==i.message;case"[object RegExp]":case"[object String]":return e==i+"";case"[object Map]":var l=el;case"[object Set]":var c=1&n;if(l||(l=ec),e.size!=i.size&&!c)break;var u=a.get(e);if(u)return u==i;n|=2,a.set(e,i);var p=es(l(e),l(i),n,o,s,a);return a.delete(e),p;case"[object Symbol]":if(ep)return ep.call(e)==ep.call(i)}return!1},te=function(e,i,r,n,o,s){var a=1&r,l=eG(e),c=l.length;if(c!=eG(i).length&&!a)return!1;for(var u=c;u--;){var p=l[u];if(!(a?p in i:eK.call(i,p)))return!1}var h=s.get(e),d=s.get(i);if(h&&d)return h==i&&d==e;var f=!0;s.set(e,i),s.set(i,e);for(var v=a;++u<c;){var m=e[p=l[u]],g=i[p];if(n)var b=a?n(g,m,p,i,e,s):n(m,g,p,e,i,s);if(!(void 0===b?m===g||o(m,g,r,n,s):b)){f=!1;break}v||(v="constructor"==p)}if(f&&!v){var y=e.constructor,x=i.constructor;y!=x&&"constructor"in e&&"constructor"in i&&!("function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x)&&(f=!1)}return s.delete(e),s.delete(i),f},tt="[object Arguments]",ti="[object Array]",tr="[object Object]",tn=Object.prototype.hasOwnProperty,to=function(e,i,r,n,o,s){var a=eh(e),l=eh(i),c=a?ti:e9(e),u=l?ti:e9(i);c=c==tt?tr:c,u=u==tt?tr:u;var p=c==tr,h=u==tr,d=c==u;if(d&&eP(e)){if(!eP(i))return!1;a=!0,p=!1}if(d&&!p)return s||(s=new er),a||e_(e)?es(e,i,r,n,o,s):e7(e,i,c,r,n,o,s);if(!(1&r)){var f=p&&tn.call(e,"__wrapped__"),v=h&&tn.call(i,"__wrapped__");if(f||v){var m=f?e.value():e,g=v?i.value():i;return s||(s=new er),o(m,g,r,n,s)}}return!!d&&(s||(s=new er),te(e,i,r,n,o,s))};let ts=d(function(e,i){return function e(i,r,n,o,s){return i===r||(null!=i&&null!=r&&(eb(i)||eb(r))?to(i,r,n,o,e,s):i!=i&&r!=r)}(e,i)});function ta(e,i){return"function"==typeof e.get?e.get(i):e[i]}function tl(e){return"function"==typeof e.count?e.count():e.length}function tc(e,i){return tl(e)===tl(i)&&e.every((e,r)=>e===ta(i,r.toString()))}function tu(){}function tp(...e){return(i,...r)=>{i.preventDefault(),e.forEach(e=>e&&e(i,...r))}}function th({item:e,itemContext:i,getItemProps:r,getResizeProps:n}){let{left:o,right:s}=n(),{key:c,ref:u,...p}=r(e.itemProps??{}),{useResizeHandle:h}=i;return(0,l.createElement)("div",{...p,ref:u,key:`${c}-outer`},h?(0,l.createElement)("div",{...o,key:`${c}-lr`}):null,(0,a.jsx)("div",{className:"rct-item-content",style:{maxHeight:`${i.dimensions.height}`},children:i.title},`${c}-content`),h?(0,l.createElement)("div",{...s,key:`${c}-rr`}):null)}function td(e,i,r,n,o){let s=g(e).startOf(r);if(n[r]&&n[r]>1){let e=s.get(r);s=s.set(r,e-e%n[r])}for(;s.valueOf()<i;){let e=g(s).add(n[r]||1,r).startOf(r);o(s,e),s=e}}function tf(e,i,r){let n={second:1e3,minute:60,hour:60,day:24,month:30,year:12},o="year",s=e;return Object.keys(n).some(e=>{if((s/=n[e])/r[e]<i/(r[e]&&r[e]>1?51:17))return o=e,!0}),o}let tv={second:"minute",minute:"hour",hour:"day",day:"month",month:"year",year:"year"};function tm(e){if(!tv[e])throw Error(`unit ${e} is not acceptable`);return tv[e]}function tg(e,i){let{groupIdKey:r}=i,n={};for(let i=0;i<e.length;i++)n[ta(e[i],r)]={index:i,group:e[i]};return n}function tb(e,i,r,n){let{itemTimeStartKey:o,itemTimeEndKey:s}=n;return e.filter(e=>{let n=g(ta(e,o)).valueOf()<=r,a=g(ta(e,s)).valueOf()>=i;return n&&a})}function ty(e=[]){return e.reduce((e,i)=>e+i,0)}function tx(e,i,r,n,o,s,a,l,c,u,p,h,d,f,v){let m=tb(e,n,o,s).map(e=>(function({item:e,keys:i,draggingItem:r,resizingItem:n,dragTime:o,resizingEdge:s,resizeTime:a,groups:l,newGroupOrder:c}){if(!n&&!r)return e;let u=ta(e,i.itemIdKey),p=u===r,[h,d]=function({itemTimeStart:e,itemTimeEnd:i,dragTime:r,isDragging:n,isResizing:o,resizingEdge:s,resizeTime:a}){return[n&&r?r:o&&"left"===s&&a?a:e,n&&r?r+(i-e):o&&"right"===s&&a?a:i]}({itemTimeStart:ta(e,i.itemTimeStartKey),itemTimeEnd:ta(e,i.itemTimeEndKey),isDragging:p,isResizing:u===n,dragTime:o,resizingEdge:s,resizeTime:a});return{...e,[i.itemTimeStartKey]:h,[i.itemTimeEndKey]:d,[i.itemGroupKey]:p?ta(l[c],i.groupIdKey):ta(e,i.itemGroupKey)}})({item:e,keys:s,draggingItem:u,resizingItem:p,dragTime:h,resizingEdge:d,resizeTime:f,groups:i,newGroupOrder:v}));if(0===i.length)return{dimensionItems:[],height:0,groupHeights:[],groupTops:[]};let g=tg(i,s),b=m.map(e=>(function({item:e,keys:i,canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:o,groupOrders:s,lineHeight:a,itemHeightRatio:l}){let c=ta(e,i.itemIdKey),u=function({itemTimeStart:e,itemTimeEnd:i,canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:o}){var s,a;let l=Math.max(e,r),c=Math.min(i,n),u=o/(n-(s=r))*(l-s),p=o/(n-(a=r))*(c-a)-u;return{left:u,width:Math.max(p,3),collisionLeft:e,collisionWidth:i-e}}({itemTimeStart:ta(e,i.itemTimeStartKey),itemTimeEnd:ta(e,i.itemTimeEndKey),canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:o});if(u)return u.top=null,u.order=s[ta(e,i.itemGroupKey)],u.stack=!e.isOverlay,u.height=a*l,{id:c,dimensions:u}})({item:e,keys:s,canvasTimeStart:n,canvasTimeEnd:o,canvasWidth:r,groupOrders:g,lineHeight:a,itemHeightRatio:l})).filter(e=>!!e),{height:y,groupHeights:x,groupTops:T}=function(e,i,r,n){let o=[],s=[],a=function(e,i){var r,n;let o={},s=Object.keys(i);for(let e=0;e<s.length;e++){let r=i[s[e]];o[e]={index:r.index,group:r.group,items:[]}}for(let i=0;i<e.length;i++)if(void 0!==e[i].dimensions&&(null==(r=e[i].dimensions)?void 0:r.order)!==void 0){let r=o[(null==(n=e[i].dimensions)?void 0:n.order.index)??0];r&&r.items.push(e[i])}return o}(e,i);for(let e in a){let{items:i,group:l}=a[e],c=ty(o),{groupHeight:u}=function(e,i,r,n){let o=0,s=0;for(let a=0;a<e.length;a++){let l=i?function(e,i,r,n,o,s){let a=n,l=(e-i.dimensions.height)/2;if(i.dimensions.stack&&null===i.dimensions.top){i.dimensions.top=o+l,a=Math.max(a,e);do{var c=null;for(let e=s-1;e>=0;e--){let n=r[e];if(null!==n.dimensions.top&&n.dimensions.stack&&function(e,i,r=.001){return e.collisionLeft+r<i.collisionLeft+i.collisionWidth&&e.collisionLeft+e.collisionWidth-r>i.collisionLeft&&e.top-0+r<i.top+i.height&&e.top+e.height+0-r>i.top}(i.dimensions,n.dimensions)){c=n;break}}null!=c&&(i.dimensions.top=c.dimensions.top+e,a=Math.max(a,i.dimensions.top+i.dimensions.height+l-o))}while(c)}return{groupHeight:a,verticalMargin:l,itemTop:i.dimensions.top}}(r,e[a],e,o,n,a):function(e,i,r,n){var o,s;let a=(e-((null==(o=i.dimensions)?void 0:o.height)??1))/2;return i.dimensions&&null===i.dimensions.top&&(i.dimensions.top=n+a,r=Math.max(r,e)),{groupHeight:r,verticalMargin:0,itemTop:(null==(s=i.dimensions)?void 0:s.top)??0}}(r,e[a],o,n);o=l.groupHeight,s=l.verticalMargin}return{groupHeight:o,verticalMargin:s}}(i,void 0!==l.stackItems?l.stackItems:n,r,c);s.push(c),l.height?o.push(l.height):o.push(Math.max(u,r))}return{height:ty(o),groupHeights:o,groupTops:s}}(b,g,a,c);return{dimensionItems:b,height:y,groupHeights:x,groupTops:T}}function tT(e,i,r){let n=i-e,o=e-n*(r-1)/2;return[o,o+n*r]}function tw(e,i,r,n,o,s,a){let l=s.buffer,c=a.canvasTimeStart,u=a.canvasTimeEnd,p=a.visibleTimeEnd-a.visibleTimeStart,h=i-e,d={...a,visibleTimeStart:e,visibleTimeEnd:i},f=p*(l-1)*.25;if(h!==p||e<=c+f||i>=u-f||r){var v;let[r,c]=tT(e,i,l);d.canvasTimeStart=r,d.canvasTimeEnd=c;let u={...a,...d};Object.assign(d,tx(n,o,(v=u.width,v*s.buffer),u.canvasTimeStart,u.canvasTimeEnd,s.keys,s.lineHeight,s.itemHeightRatio,s.stackItems,u.draggingItem,u.resizingItem,u.dragTime,u.resizingEdge,u.resizeTime,u.newGroupOrder))}return d}Symbol.toStringTag;let tS={fontSize:12,color:"white",cursor:"pointer",background:"#2196f3",borderTopWidth:"1px",borderBottomWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderStyle:"solid",borderColor:"#1a6fb3",zIndex:80},tO={background:"#ffc107",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderStyle:"solid",borderColor:"#ff9800",zIndex:82},tE={willChange:"left, top, width",cursor:"move"},tP={borderLeftWidth:3},tM={cursor:"w-resize"},tk={borderRightWidth:"3px"},tD={cursor:"e-resize"},tI={position:"absolute",width:24,maxWidth:"20%",minWidth:2,height:"100%",top:0,left:0,cursor:"pointer",zIndex:88},tC={position:"absolute",width:24,maxWidth:"20%",minWidth:2,height:"100%",top:0,right:0,cursor:"pointer",zIndex:88},tz=l.createContext({getTimelineState:()=>(console.warn('"getTimelineState" default func is being used'),{}),getLeftOffsetFromDate:()=>(console.warn('"getLeftOffsetFromDate" default func is being used'),0),getDateFromLeftOffsetPosition:()=>(console.warn('"getDateFromLeftOffsetPosition" default func is being used'),0),showPeriod:()=>{console.warn('"showPeriod" default func is being used')}}),{Consumer:t_,Provider:tj}=tz;class tR extends l.Component{constructor(e){super(e),Object.defineProperty(this,"getTimelineState",{enumerable:!0,configurable:!0,writable:!0,value:()=>{let{visibleTimeStart:e,visibleTimeEnd:i,canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:o,timelineUnit:s,timelineWidth:a}=this.props;return{visibleTimeStart:e,visibleTimeEnd:i,canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:o,timelineUnit:s,timelineWidth:a}}}),Object.defineProperty(this,"getLeftOffsetFromDate",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var i;let{canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:o}=this.props;return o/(n-(i=r))*(e-i)}}),Object.defineProperty(this,"getDateFromLeftOffsetPosition",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var i;let{canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:o}=this.props;return(n-(i=r))/o*e+i}}),this.state={timelineContext:{getTimelineState:this.getTimelineState,getLeftOffsetFromDate:this.getLeftOffsetFromDate,getDateFromLeftOffsetPosition:this.getDateFromLeftOffsetPosition,showPeriod:this.props.showPeriod}}}render(){return(0,a.jsx)(tj,{value:this.state.timelineContext,children:this.props.children})}}g.extend(y);class tL extends l.Component{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{interactMounted:!1,dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null,resizing:!1,resizeEdge:null,resizeStart:null,resizeTime:null}}),Object.defineProperty(this,"itemId",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"itemTitle",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"itemDivTitle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemTimeStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemTimeEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemRef",{enumerable:!0,configurable:!0,writable:!0,value:(0,l.createRef)()}),Object.defineProperty(this,"dragLeft",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dragRight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startedClicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedTouching",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"dragInProgress",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"fireInteractEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var i;if(this.itemRef&&this.itemRef.current){let r=new CustomEvent("itemInteraction",{bubbles:!0,detail:{itemInteraction:e}});null==(i=this.itemRef.current)||i.dispatchEvent(r)}}}),Object.defineProperty(this,"onMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.state.interactMounted||(e.preventDefault(),this.startedClicking=!0)}}),Object.defineProperty(this,"onMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:e=>{!this.state.interactMounted&&this.startedClicking&&(this.startedClicking=!1,this.actualClick(e,"click"))}}),Object.defineProperty(this,"onTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.state.interactMounted||(e.preventDefault(),this.startedTouching=!0)}}),Object.defineProperty(this,"onTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:e=>{!this.state.interactMounted&&this.startedTouching&&(this.startedTouching=!1,this.actualClick(e,"touch"))}}),Object.defineProperty(this,"handleDoubleClick",{enumerable:!0,configurable:!0,writable:!0,value:e=>{e.stopPropagation(),this.props.onItemDoubleClick&&this.props.onItemDoubleClick(this.itemId,e)}}),Object.defineProperty(this,"handleContextMenu",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.props.onContextMenu&&(e.preventDefault(),e.stopPropagation(),this.props.onContextMenu(this.itemId,e))}}),Object.defineProperty(this,"getDragLeftRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.dragLeft=e}),Object.defineProperty(this,"getDragRightRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.dragRight=e}),Object.defineProperty(this,"getItemProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{let i="rct-item"+(this.props.item.className?` ${this.props.item.className}`:"");return{key:this.itemId,ref:this.itemRef,title:this.itemDivTitle,className:i+` ${e.className?e.className:""}`,onMouseDown:tp(this.onMouseDown,e.onMouseDown),onMouseUp:tp(this.onMouseUp,e.onMouseUp),onTouchStart:tp(this.onTouchStart,e.onTouchStart),onTouchEnd:tp(this.onTouchEnd,e.onTouchEnd),onDoubleClick:tp(this.handleDoubleClick,e.onDoubleClick),onContextMenu:tp(this.handleContextMenu,e.onContextMenu),style:Object.assign({},this.getItemStyle(e))}}}),Object.defineProperty(this,"getResizeProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{let i="rct-item-handler rct-item-handler-left rct-item-handler-resize-left";e.leftClassName&&(i+=` ${e.leftClassName}`);let r="rct-item-handler rct-item-handler-right rct-item-handler-resize-right";return e.rightClassName&&(r+=` ${e.rightClassName}`),{left:{ref:this.getDragLeftRef,className:i,style:Object.assign({},tI,e.leftStyle)},right:{ref:this.getDragRightRef,className:r,style:Object.assign({},tC,e.rightStyle)}}}}),this.cacheDataFromProps(e)}shouldComponentUpdate(e,i){return!ts(this.props,e)||!ts(this.state,i)}cacheDataFromProps(e){this.itemId=ta(e.item,e.keys.itemIdKey),this.itemTitle=ta(e.item,e.keys.itemTitleKey),this.itemDivTitle=e.keys.itemDivTitleKey?ta(e.item,e.keys.itemDivTitleKey):this.itemTitle,this.itemTimeStart=ta(e.item,e.keys.itemTimeStartKey),this.itemTimeEnd=ta(e.item,e.keys.itemTimeEndKey)}getTimeRatio(){let{canvasTimeStart:e,canvasTimeEnd:i,canvasWidth:r}=this.props;return(i-e)/r}dragTimeSnap(e,i){let{dragSnap:r}=this.props;return r?Math.round(e/r)*r-(i?60*g().utcOffset()*1e3:0)%r:e}resizeTimeSnap(e){let{dragSnap:i}=this.props;if(!i)return e;{let r=this.itemTimeEnd%i;return Math.round((e-r)/i)*i+r}}dragTime(e){let i=g(this.itemTimeStart);return this.state.dragging?this.dragTimeSnap(this.timeFor(e)+this.state.dragStart.offset,!0):i.valueOf()}timeFor(e){var i,r;let n=(i=this.props.canvasTimeStart,r=this.props.canvasTimeEnd,(r-i)/this.props.canvasWidth),o=p(this.props.scrollRef).offsetLeft,s=u(this.props.scrollRef);return(e.pageX-o+s.scrollLeft)*n+this.props.canvasTimeStart}dragGroupDelta(e){let{groupTops:i,order:r}=this.props;if(!this.state.dragging)return 0;{if(!this.props.canChangeGroup)return 0;let n=0,o=p(this.props.scrollRef).offsetTop,s=u(this.props.scrollRef);for(let a of Object.keys(i)){let l=i[a];if(e.pageY-o+s.scrollTop>l)n=parseInt(a,10)-r.index;else break}return this.props.order.index+n<0?0-this.props.order.index:n}}resizeTimeDelta(e,i){let r=this.itemTimeEnd-this.itemTimeStart,n=this.dragTimeSnap((e.pageX-this.state.resizeStart)*this.getTimeRatio());return r+("left"===i?-n:n)<(this.props.dragSnap||1e3)?"left"===i?r-(this.props.dragSnap||1e3):(this.props.dragSnap||1e3)-r:n}mountInteract(){let e=!this.props.useResizeHandle||".rct-item-handler-resize-left",i=!this.props.useResizeHandle||".rct-item-handler-resize-right";v(this.itemRef.current).resizable({edges:{left:this.canResizeLeft()&&e,right:this.canResizeRight()&&i,top:!1,bottom:!1},enabled:this.props.selected&&(this.canResizeLeft()||this.canResizeRight())}).draggable({enabled:this.props.selected&&this.canMove()}).styleCursor(!1).on("dragstart",e=>{if(!this.props.selected)return!1;{this.dragInProgress=!0,this.fireInteractEvent(!0);let i=this.timeFor(e);this.setState({dragging:!0,dragStart:{x:e.pageX,y:e.pageY,offset:this.itemTimeStart-i},preDragPosition:{x:e.target.offsetLeft,y:e.target.offsetTop},dragTime:this.itemTimeStart,dragGroupDelta:0})}}).on("dragmove",e=>{this.state.dragging&&this.setState(i=>{if(!this.dragInProgress)return{...i};let r=this.dragTime(e),n=this.dragGroupDelta(e);return this.props.moveResizeValidator&&(r=this.props.moveResizeValidator("move",this.props.item,r)),this.props.onDrag&&this.props.onDrag(this.itemId,r,this.props.order.index+n),{dragTime:r,dragGroupDelta:n}})}).on("dragend",e=>{if(this.state.dragging){if(this.props.onDrop){this.dragInProgress=!1,this.fireInteractEvent(!1);let i=this.dragTime(e);this.props.moveResizeValidator&&(i=this.props.moveResizeValidator("move",this.props.item,i)),this.props.onDrop(this.itemId,i,this.props.order.index+this.dragGroupDelta(e))}this.setState({dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null})}}).on("resizestart",e=>{if(!this.props.selected)return!1;this.fireInteractEvent(!0),this.setState({resizing:!0,resizeEdge:null,resizeStart:e.pageX,resizeTime:0})}).on("resizemove",e=>{if(this.state.resizing){let i=this.state.resizeEdge;i||(i=0!==e.deltaRect.left?"left":"right",this.setState({resizeEdge:i}));let r=this.resizeTimeSnap(this.timeFor(e));this.props.moveResizeValidator&&(r=this.props.moveResizeValidator("resize",this.props.item,r,i)),this.props.onResizing&&this.props.onResizing(this.itemId,r,i),this.setState({resizeTime:r})}}).on("resizeend",e=>{if(this.state.resizing){this.fireInteractEvent(!1);let{resizeEdge:i}=this.state,r=this.resizeTimeSnap(this.timeFor(e));this.props.moveResizeValidator&&(r=this.props.moveResizeValidator("resize",this.props.item,r,i)),this.props.onResized&&this.props.onResized(this.itemId,r,i,this.resizeTimeDelta(e,i)),this.setState({resizing:!1,resizeStart:null,resizeEdge:null,resizeTime:null})}}).on("tap",e=>{this.actualClick(e,"mouse"===e.pointerType?"click":"touch")}),this.setState({interactMounted:!0})}canResizeLeft(e=this.props){var i;return!!e.canResizeLeft&&void 0!==e.minResizeWidth&&parseInt(null==(i=e.dimensions.width)?void 0:i.toString(),10)>=e.minResizeWidth}canResizeRight(e=this.props){var i;return!!e.canResizeRight&&void 0!==e.minResizeWidth&&parseInt(null==(i=e.dimensions.width)?void 0:i.toString(),10)>=e.minResizeWidth}canMove(e=this.props){return!!e.canMove}componentDidUpdate(e){this.cacheDataFromProps(this.props);let{interactMounted:i}=this.state,r=e.selected&&this.canMove(e),n=e.selected&&this.canResizeLeft(e),o=e.selected&&this.canResizeRight(e),s=this.props.selected&&this.canMove(this.props),a=this.props.selected&&this.canResizeLeft(this.props),l=this.props.selected&&this.canResizeRight(this.props);if(this.itemRef&&this.itemRef.current){if(this.props.selected&&!i&&(this.mountInteract(),i=!0),i&&(n!==a||o!==l)){let e=!this.props.useResizeHandle||this.dragLeft,i=!this.props.useResizeHandle||this.dragRight;v(this.itemRef.current).resizable({enabled:a||l,edges:{top:!1,bottom:!1,left:a&&e,right:l&&i}})}i&&r!==s&&v(this.itemRef.current).draggable({enabled:s})}else i=!1;i!==this.state.interactMounted&&this.setState({interactMounted:i})}actualClick(e,i){this.props.canSelect&&this.props.onSelect&&this.props.onSelect(this.itemId,i,e)}getItemStyle(e){let i=this.props.dimensions,r={position:"absolute",boxSizing:"border-box",left:`${i.left}px`,top:`${i.top}px`,width:`${i.width}px`,height:`${i.height}px`,lineHeight:`${i.height}px`};return Object.assign({},tS,this.props.selected?tO:{},this.props.selected&&this.canMove(this.props)?tE:{},this.props.selected&&this.canResizeLeft(this.props)?tP:{},this.props.selected&&this.canResizeLeft(this.props)&&this.state.dragging?tM:{},this.props.selected&&this.canResizeRight(this.props)?tk:{},this.props.selected&&this.canResizeRight(this.props)&&this.state.dragging?tD:{},e.style,r)}render(){if(typeof this.props.order>"u"||null===this.props.order)return null;let e=this.context,i={dimensions:this.props.dimensions,useResizeHandle:!!this.props.useResizeHandle,title:this.itemTitle,canMove:this.canMove(this.props),canResizeLeft:this.canResizeLeft(this.props),canResizeRight:this.canResizeRight(this.props),selected:this.props.selected,dragging:this.state.dragging,dragStart:this.state.dragStart,dragTime:this.state.dragTime,dragGroupDelta:this.state.dragGroupDelta,resizing:this.state.resizing,resizeEdge:this.state.resizeEdge,resizeStart:this.state.resizeStart,resizeTime:this.state.resizeTime};return this.props.itemRenderer?this.props.itemRenderer({item:this.props.item,timelineContext:e,itemContext:i,getItemProps:this.getItemProps,getResizeProps:this.getResizeProps}):th({item:this.props.item,itemContext:i,getItemProps:this.getItemProps,getResizeProps:this.getResizeProps})}}Object.defineProperty(tL,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{selected:!1,itemRenderer:th}}),Object.defineProperty(tL,"contextType",{enumerable:!0,configurable:!0,writable:!0,value:tz});class t$ extends l.Component{shouldComponentUpdate(e){return!(tc(e.groups,this.props.groups)&&tc(e.items,this.props.items)&&tc(e.dimensionItems,this.props.dimensionItems)&&e.keys===this.props.keys&&e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.selectedItem===this.props.selectedItem&&e.selected===this.props.selected&&e.dragSnap===this.props.dragSnap&&e.minResizeWidth===this.props.minResizeWidth&&e.canChangeGroup===this.props.canChangeGroup&&e.canMove===this.props.canMove&&e.canResize===this.props.canResize&&e.canSelect===this.props.canSelect)}isSelected(e,i){if(!this.props.selected)return this.props.selectedItem===ta(e,i);{let r=ta(e,i);return this.props.selected.includes(r)}}getVisibleItems(e,i){let{keys:r,items:n}=this.props;return tb(n,e,i,r)}render(){let{canvasTimeStart:e,canvasTimeEnd:i,dimensionItems:r,keys:n,groups:o}=this.props,{itemIdKey:s,itemGroupKey:l}=n,c=tg(o,n),u=this.getVisibleItems(e,i),p=function(e,i){let r={};return e.forEach(e=>{r[e.id]=e}),r}(r,0);return(0,a.jsx)("div",{className:"rct-items",children:u.filter(e=>p[ta(e,s)]).map(e=>(0,a.jsx)(tL,{itemProps:e.itemProps,item:e,keys:this.props.keys,order:c[ta(e,l)],dimensions:p[ta(e,s)].dimensions,selected:this.isSelected(e,s),canChangeGroup:void 0!==ta(e,"canChangeGroup")?ta(e,"canChangeGroup"):this.props.canChangeGroup,canMove:void 0!==ta(e,"canMove")?ta(e,"canMove"):this.props.canMove,canResizeLeft:function(e,i){let r=void 0!==ta(e,"canResize")?ta(e,"canResize"):i;return"left"===r||"both"===r}(e,this.props.canResize),canResizeRight:function(e,i){let r=void 0!==ta(e,"canResize")?ta(e,"canResize"):i;return"right"===r||"both"===r||!0===r}(e,this.props.canResize),canSelect:void 0!==ta(e,"canSelect")?ta(e,"canSelect"):this.props.canSelect,useResizeHandle:this.props.useResizeHandle,groupTops:this.props.groupTops,canvasTimeStart:this.props.canvasTimeStart,canvasTimeEnd:this.props.canvasTimeEnd,canvasWidth:this.props.canvasWidth,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,onResizing:this.props.itemResizing,onResized:this.props.itemResized,moveResizeValidator:this.props.moveResizeValidator,onDrag:this.props.itemDrag,onDrop:this.props.itemDrop,onItemDoubleClick:this.props.onItemDoubleClick,onContextMenu:this.props.onItemContextMenu,onSelect:this.props.itemSelect,itemRenderer:this.props.itemRenderer,scrollRef:this.props.scrollRef},ta(e,s)))})}}class tA extends l.Component{shouldComponentUpdate(e){return!(e.keys===this.props.keys&&e.width===this.props.width&&e.height===this.props.height&&tc(e.groups,this.props.groups)&&tc(e.groupHeights,this.props.groupHeights))}renderGroupContent(e,i=!1,r,n){return this.props.groupRenderer?l.createElement(this.props.groupRenderer,{group:e,isRightSidebar:i}):ta(e,i?n:r)}render(){let{width:e,groupHeights:i,height:r,isRightSidebar:n}=this.props,{groupIdKey:o,groupTitleKey:s,groupRightTitleKey:l}=this.props.keys,c={width:`${e}px`,height:`${r}px`},u={width:`${e}px`},p=this.props.groups.map((e,r)=>{let c={height:`${i[r]}px`,lineHeight:`${i[r]}px`};return(0,a.jsx)("div",{className:"rct-sidebar-row rct-sidebar-row-"+(r%2==0?"even":"odd"),style:c,children:this.renderGroupContent(e,n,s,l)},ta(e,o))});return(0,a.jsx)("div",{className:"rct-sidebar"+(n?" rct-sidebar-right":""),style:c,children:(0,a.jsx)("div",{style:u,children:p})})}}class tH extends l.Component{shouldComponentUpdate(e){return e.canvasTimeStart!==this.props.canvasTimeStart||e.canvasTimeEnd!==this.props.canvasTimeEnd||e.canvasWidth!==this.props.canvasWidth||e.lineCount!==this.props.lineCount||e.minUnit!==this.props.minUnit||e.timeSteps!==this.props.timeSteps||e.height!==this.props.height||e.verticalLineClassNamesForTime!==this.props.verticalLineClassNamesForTime}render(){let{canvasTimeStart:e,canvasTimeEnd:i,minUnit:r,timeSteps:n,height:o,verticalLineClassNamesForTime:s,getLeftOffsetFromDate:l}=this.props,c=[];return td(e,i,r,n,(e,i)=>{let n=e.get("day"===r?"date":r)===+("day"===r),u=[];s&&(u=s(1e3*e.unix(),1e3*i.unix()-1));let p="rct-vl"+(n?" rct-vl-first":"")+("day"===r||"hour"===r||"minute"===r?` rct-day-${e.day()} `:" ")+u.join(" "),h=l(e.valueOf()),d=l(i.valueOf());c.push((0,a.jsx)("div",{className:p,style:{pointerEvents:"none",top:"0px",left:`${h}px`,width:`${d-h}px`,height:`${o}px`}},`line-${e.valueOf()}`))}),(0,a.jsx)("div",{className:"rct-vertical-lines",children:c})}}let tW=({...e})=>(0,a.jsx)(t_,{children:({getLeftOffsetFromDate:i})=>(0,a.jsx)(tH,{getLeftOffsetFromDate:i,...e})});class tF extends l.Component{constructor(){super(...arguments),Object.defineProperty(this,"handleMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.originClickX=e.clientX}}),Object.defineProperty(this,"handleMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:e=>{void 0!==this.props.clickTolerance&&Math.abs(this.originClickX-e.clientX)>this.props.clickTolerance&&(this.cancelClick=!0)}}),Object.defineProperty(this,"handleClick",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.cancelClick||this.props.onClick(e),this.cancelClick=!1,this.originClickX=null}}),Object.defineProperty(this,"originClickX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cancelClick",{enumerable:!0,configurable:!0,writable:!0,value:!1})}render(){let e=l.Children.only(this.props.children);return l.cloneElement(e,{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick})}}class tY extends l.Component{render(){let{onContextMenu:e,onDoubleClick:i,isEvenRow:r,style:n,onClick:o,clickTolerance:s,horizontalLineClassNamesForGroup:l,group:c}=this.props,u=[];return l&&(u=l(c)),(0,a.jsx)(tF,{clickTolerance:s,onClick:o,children:(0,a.jsx)("div",{onContextMenu:e,onDoubleClick:i,className:(r?"rct-hl-even ":"rct-hl-odd ")+(u?u.join(" "):""),style:n})})}}class tU extends l.Component{shouldComponentUpdate(e){return e.canvasWidth!==this.props.canvasWidth||e.lineCount!==this.props.lineCount||e.groupHeights!==this.props.groupHeights||e.groups!==this.props.groups}render(){let{canvasWidth:e,lineCount:i,groupHeights:r,onRowClick:n,onRowDoubleClick:o,clickTolerance:s,groups:l,horizontalLineClassNamesForGroup:c,onRowContextClick:u}=this.props,p=[];for(let h=0;h<i;h++)p.push((0,a.jsx)(tY,{clickTolerance:s,onContextMenu:e=>u(e,h),onClick:e=>n(e,h),onDoubleClick:e=>o(e,h),isEvenRow:h%2==0,group:l[h],horizontalLineClassNamesForGroup:c,style:{width:`${e}px`,height:`${r[h]}px`}},`horizontal-line-${h}`));return(0,a.jsx)("div",{className:"rct-horizontal-lines",children:p})}}class tN extends l.Component{constructor(e){super(e),Object.defineProperty(this,"scrollComponentRef",{enumerable:!0,configurable:!0,writable:!0,value:(0,l.createRef)()}),Object.defineProperty(this,"dragLastPosition",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastTouchDistance",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"singleTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastSingleTouch",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isItemInteraction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"handleScroll",{enumerable:!0,configurable:!0,writable:!0,value:()=>{let e=this.scrollComponentRef.current.scrollLeft;this.props.onScroll(e)}}),Object.defineProperty(this,"handleWheel",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(e.ctrlKey||e.metaKey||e.altKey){e.preventDefault();let i=c(e.currentTarget),r=e.clientX-i.x,n=e.ctrlKey?10:e.metaKey?3:1;this.props.onWheelZoom(n,r,e.deltaY)}else e.shiftKey&&(e.preventDefault(),this.props.onScroll(this.scrollComponentRef.current.scrollLeft+(e.deltaY||e.deltaX)))}}),Object.defineProperty(this,"handleMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:e=>{0===e.button&&(this.dragLastPosition=e.pageX,this.setState({isDragging:!0}))}}),Object.defineProperty(this,"handleMouseMove",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.state.isDragging&&!this.isItemInteraction&&(this.props.onScroll(this.scrollComponentRef.current.scrollLeft+this.dragLastPosition-e.pageX),this.dragLastPosition=e.pageX)}}),Object.defineProperty(this,"handleMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.dragLastPosition=null,this.setState({isDragging:!1})}}),Object.defineProperty(this,"handleMouseLeave",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.dragLastPosition=null,this.setState({isDragging:!1})}}),Object.defineProperty(this,"handleTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(2===e.touches.length)e.preventDefault(),this.lastTouchDistance=Math.abs(e.touches[0].screenX-e.touches[1].screenX),this.singleTouchStart=null,this.lastSingleTouch=null;else if(1===e.touches.length){e.preventDefault();let i=e.touches[0].clientX,r=e.touches[0].clientY;this.lastTouchDistance=null,this.singleTouchStart={x:i,y:r,screenY:window.pageYOffset},this.lastSingleTouch={x:i,y:r,screenY:window.pageYOffset}}}}),Object.defineProperty(this,"handleTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:e=>{let{width:i,onZoom:r}=this.props;if(this.isItemInteraction)return void e.preventDefault();if(this.lastTouchDistance&&2===e.touches.length){e.preventDefault();let n=Math.abs(e.touches[0].screenX-e.touches[1].screenX),o=c(e.currentTarget),s=(e.touches[0].screenX+e.touches[1].screenX)/2-o.x;0!==n&&0!==this.lastTouchDistance&&(r(this.lastTouchDistance/n,s/i),this.lastTouchDistance=n)}else if(this.lastSingleTouch&&1===e.touches.length){e.preventDefault();let i=e.touches[0].clientX,r=e.touches[0].clientY,n=i-this.lastSingleTouch.x,o=i-this.singleTouchStart.x,s=r-this.singleTouchStart.y;this.lastSingleTouch={x:i,y:r,screenY:window.pageYOffset};let a=3*Math.abs(o)>Math.abs(s),l=3*Math.abs(s)>Math.abs(o);0!==n&&a&&this.props.onScroll(this.scrollComponentRef.current.scrollLeft-n),l&&window.scrollTo(window.scrollX,this.singleTouchStart.screenY-s)}}}),Object.defineProperty(this,"handleTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.lastTouchDistance&&(this.lastTouchDistance=null),this.lastSingleTouch&&(this.lastSingleTouch=null,this.singleTouchStart=null)}}),Object.defineProperty(this,"handleItemInteract",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.isItemInteraction=e.detail.itemInteraction}}),this.state={isDragging:!1}}componentDidMount(){this.scrollComponentRef.current&&(this.props.scrollRef(this.scrollComponentRef.current),this.scrollComponentRef.current.addEventListener("wheel",this.handleWheel,{passive:!1}),this.scrollComponentRef.current.addEventListener("itemInteraction",this.handleItemInteract),this.scrollComponentRef.current.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.scrollComponentRef.current.addEventListener("touchmove",this.handleTouchMove,{passive:!1}))}componentWillUnmount(){this.scrollComponentRef.current&&(this.scrollComponentRef.current.removeEventListener("wheel",this.handleWheel),this.scrollComponentRef.current.removeEventListener("itemInteraction",this.handleItemInteract),this.scrollComponentRef.current.removeEventListener("touchstart",this.handleTouchStart),this.scrollComponentRef.current.removeEventListener("touchmove",this.handleTouchMove))}render(){let{width:e,height:i,children:r}=this.props,{isDragging:n}=this.state,o={width:`${e}px`,height:`${i+20}px`,cursor:n?"move":"default",position:"relative"};return(0,a.jsx)("div",{ref:this.scrollComponentRef,"data-testid":"scroll-element",className:"rct-scroll",style:o,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onTouchEnd:this.handleTouchEnd,onScroll:this.handleScroll,children:r})}}let{Consumer:tG,Provider:tK}=l.createContext({subscribeToMouseOver:()=>(console.warn('"subscribeToMouseOver" default func is being used'),()=>{})}),{Consumer:tX,Provider:tV}=l.createContext({markers:[],subscribeMarker:()=>(console.warn("default subscribe marker used"),{unsubscribe:tu,getMarker:tu}),updateMarker:()=>(console.warn("default subscribe marker used"),tu)}),tB=0;class tZ extends l.Component{constructor(e){super(e),Object.defineProperty(this,"handleSubscribeToMarker",{enumerable:!0,configurable:!0,writable:!0,value:e=>(e={...e,id:(tB+=1)+1},this.setState(i=>({markers:[...i.markers,e]})),{unsubscribe:()=>{this.setState(i=>({markers:i.markers.filter(i=>i.id!==e.id)}))},getMarker:()=>e})}),Object.defineProperty(this,"handleUpdateMarker",{enumerable:!0,configurable:!0,writable:!0,value:e=>{let i=this.state.markers.findIndex(i=>i.id===e.id);i<0||this.setState(r=>({markers:[...r.markers.slice(0,i),e,...r.markers.slice(i+1)]}))}}),this.state={markers:[],subscribeMarker:this.handleSubscribeToMarker,updateMarker:this.handleUpdateMarker}}render(){return(0,a.jsx)(tV,{value:this.state,children:this.props.children})}}!function(e){e.Today="Today",e.Custom="Custom",e.Cursor="Cursor"}(s||(s={}));let tq={position:"absolute",top:0,bottom:0,width:"2px",backgroundColor:"black",pointerEvents:"none"},tJ=e=>({...tq,left:e}),tQ=e=>function({styles:i}){return(0,a.jsx)("div",{style:i,"data-testid":e})},t0=tQ("default-today-line"),t1=class extends l.Component{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{date:Date.now()}}),Object.defineProperty(this,"intervalToken",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}componentDidMount(){this.intervalToken=this.createIntervalUpdater(this.props.interval)}componentDidUpdate(e){e.interval!==this.props.interval&&(clearInterval(this.intervalToken),this.intervalToken=this.createIntervalUpdater(this.props.interval))}createIntervalUpdater(e){return setInterval(()=>{this.setState({date:Date.now()})},e)}componentWillUnmount(){clearInterval(this.intervalToken)}render(){let{date:e}=this.state,i=tJ(this.props.getLeftOffsetFromDate(e));return this.props.renderer({styles:i,date:e})}};Object.defineProperty(t1,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:t0}});let t2=tQ("default-customer-marker-id"),t3=class extends l.Component{render(){let{date:e}=this.props,i=tJ(this.props.getLeftOffsetFromDate(e));return this.props.renderer({styles:i,date:e})}};Object.defineProperty(t3,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:t2}});let t5=tQ("default-cursor-marker"),t6=class extends l.Component{constructor(e){super(e),Object.defineProperty(this,"handleCanvasMouseOver",{enumerable:!0,configurable:!0,writable:!0,value:({leftOffset:e,date:i,isCursorOverCanvas:r})=>{this.setState({leftOffset:e,date:i,isShowingCursor:r})}}),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state={leftOffset:0,date:0,isShowingCursor:!1}}componentDidMount(){this.unsubscribe=this.props.subscribeToCanvasMouseOver(this.handleCanvasMouseOver)}componentWillUnmount(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}render(){let{isShowingCursor:e,leftOffset:i,date:r}=this.state;if(!e)return null;let n=tJ(i);return this.props.renderer?this.props.renderer({styles:n,date:r}):null}};Object.defineProperty(t6,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:t5}});let t4=e=>(0,a.jsx)(tG,{children:({subscribeToMouseOver:i})=>(0,a.jsx)(t6,{subscribeToCanvasMouseOver:i,...e})});t4.displayName="CursorMarkerWrapper";let t8=()=>(0,a.jsx)(t_,{children:({getLeftOffsetFromDate:e,getTimelineState:i})=>(0,a.jsx)(tX,{children:({markers:r})=>{let n=i();return r.map(i=>{switch(i.type){case s.Today:return new Date().valueOf()>=n.canvasTimeStart&&new Date().valueOf()<=n.canvasTimeEnd?(0,a.jsx)(t1,{getLeftOffsetFromDate:e,renderer:i.renderer,interval:i.interval},i.id):null;case s.Custom:return i.date>=n.canvasTimeStart&&i.date<=n.canvasTimeEnd?(0,a.jsx)(t3,{renderer:i.renderer,date:i.date,getLeftOffsetFromDate:e},i.id):null;case s.Cursor:return(0,a.jsx)(t4,{renderer:i.renderer,getLeftOffsetFromDate:e},i.id);default:return null}})}})}),t9={position:"absolute",left:0,right:0,top:0,bottom:0};class t7 extends l.Component{constructor(){super(...arguments),Object.defineProperty(this,"handleMouseMove",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var i;if(null!==this.subscription){let{pageX:r}=e,{left:n}=(null==(i=this.containerEl.current)?void 0:i.getBoundingClientRect())??{left:0},o=r-n,s=this.props.getDateFromLeftOffsetPosition(o);this.subscription({leftOffset:o,date:s,isCursorOverCanvas:!0})}}}),Object.defineProperty(this,"handleMouseLeave",{enumerable:!0,configurable:!0,writable:!0,value:()=>{null!==this.subscription&&this.subscription({leftOffset:0,date:0,isCursorOverCanvas:!1})}}),Object.defineProperty(this,"handleMouseMoveSubscribe",{enumerable:!0,configurable:!0,writable:!0,value:e=>(this.subscription=e,()=>{this.subscription=null})}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{subscribeToMouseOver:this.handleMouseMoveSubscribe}}),Object.defineProperty(this,"containerEl",{enumerable:!0,configurable:!0,writable:!0,value:l.createRef()}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:null})}render(){return(0,a.jsx)(tK,{value:this.state,children:(0,a.jsxs)("div",{style:t9,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,ref:this.containerEl,children:[(0,a.jsx)(t8,{}),this.props.children]})})}}let ie=e=>(0,a.jsx)(t_,{children:({getDateFromLeftOffsetPosition:i})=>(0,a.jsx)(t7,{getDateFromLeftOffsetPosition:i,...e})}),it={addListener:function(e){e._resizeEventListener=()=>e.resize(),window.addEventListener("resize",e._resizeEventListener)},removeListener:function(e){window.removeEventListener("resize",e._resizeEventListener)}},ii={year:{long:"YYYY",mediumLong:"YYYY",medium:"YYYY",short:"YY"},month:{long:"MMMM YYYY",mediumLong:"MMMM",medium:"MMMM",short:"MM/YY"},week:{long:"w",mediumLong:"w",medium:"w",short:"w"},day:{long:"dddd, LL",mediumLong:"dddd, LL",medium:"dd D",short:"D"},hour:{long:"dddd, LL, HH:00",mediumLong:"L, HH:00",medium:"HH:00",short:"HH"},minute:{long:"HH:mm",mediumLong:"HH:mm",medium:"HH:mm",short:"mm"},second:{long:"mm:ss",mediumLong:"mm:ss",medium:"mm:ss",short:"ss"}},ir=l.createContext({registerScroll:()=>(console.warn("default registerScroll header used"),tu),rightSidebarWidth:0,leftSidebarWidth:150,timeSteps:{}});class io extends l.Component{render(){let e={rightSidebarWidth:this.props.rightSidebarWidth,leftSidebarWidth:this.props.leftSidebarWidth,timeSteps:this.props.timeSteps,registerScroll:this.props.registerScroll};return(0,a.jsx)(ir.Provider,{value:e,children:this.props.children})}}let is=()=>(0,l.useContext)(ir);var ia={exports:{}};!function(e){var i={}.hasOwnProperty;function r(){for(var e="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(e=n(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var s in e)i.call(e,s)&&e[s]&&(o=n(o,s));return o}(s)))}return e}function n(e,i){return i?e?e+" "+i:e+i:e}e.exports?(r.default=r,e.exports=r):window.classNames=r}(ia);let il=d(ia.exports),ic="right";class iu extends l.PureComponent{constructor(){super(...arguments),Object.defineProperty(this,"getRootProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{let{style:i}=e,r=this.props.variant===ic?this.props.rightSidebarWidth:this.props.leftSidebarWidth;return{style:{color:(null==i?void 0:i.color)??"#fff",...i,width:r}}}}),Object.defineProperty(this,"getStateAndHelpers",{enumerable:!0,configurable:!0,writable:!0,value:()=>({getRootProps:this.getRootProps,data:this.props.headerData})})}render(){let e=this.getStateAndHelpers();return this.props.children(e)}}let ip=({getRootProps:e})=>(0,a.jsx)("div",{"data-testid":"sidebarHeader",...e()}),ih=e=>{let{children:i,variant:r="left",headerData:n}=e,{leftSidebarWidth:o,rightSidebarWidth:s}=is();return(0,a.jsx)(iu,{leftSidebarWidth:o,rightSidebarWidth:s,variant:r,headerData:n,children:i||ip})};ih.secretKey="SidebarHeader";class id extends l.Component{constructor(){super(...arguments),Object.defineProperty(this,"getRootStyle",{enumerable:!0,configurable:!0,writable:!0,value:()=>({...this.props.style,display:"flex",width:"100%"})}),Object.defineProperty(this,"getCalendarHeaderStyle",{enumerable:!0,configurable:!0,writable:!0,value:()=>{let{leftSidebarWidth:e,rightSidebarWidth:i,calendarHeaderStyle:r}=this.props;return{...r,overflow:"hidden",width:`calc(100% - ${e+i}px)`}}}),Object.defineProperty(this,"isSidebarHeader",{enumerable:!0,configurable:!0,writable:!0,value:e=>void 0!==e.type&&e.type.secretKey===ih.secretKey})}render(){let e,i,r=[],n=Array.isArray(this.props.children)?this.props.children.filter(e=>e):[this.props.children];return l.Children.map(n,n=>{var o;this.isSidebarHeader(n)?(null==(o=null==n?void 0:n.props)?void 0:o.variant)===ic?e=n:i=n:r.push(n)}),i||(i=(0,a.jsx)(ih,{})),!e&&this.props.rightSidebarWidth&&(e=(0,a.jsx)(ih,{variant:"right"})),(0,a.jsxs)("div",{"data-testid":"headerRootDiv",style:this.getRootStyle(),className:il("rct-header-root",this.props.className),children:[i,(0,a.jsx)("div",{ref:this.props.registerScroll,style:this.getCalendarHeaderStyle(),className:il("rct-calendar-header",this.props.calendarHeaderClassName),"data-testid":"headerContainer",children:r}),e]})}}let iv=({children:e,style:i,className:r,calendarHeaderStyle:n,calendarHeaderClassName:o})=>{let{leftSidebarWidth:s,rightSidebarWidth:l,registerScroll:c}=is();return(0,a.jsx)(id,{leftSidebarWidth:s,rightSidebarWidth:l,registerScroll:c,style:i,className:r,calendarHeaderStyle:n,calendarHeaderClassName:o,children:e})};iv.secretKey="TimelineHeaders";class im extends l.Component{constructor(e){super(e),Object.defineProperty(this,"getHeaderIntervals",{enumerable:!0,configurable:!0,writable:!0,value:({canvasTimeStart:e,canvasTimeEnd:i,unit:r,timeSteps:n,getLeftOffsetFromDate:o})=>{let s=[];return td(e,i,r,n,(e,i)=>{let r=o(e.valueOf()),n=o(i.valueOf())-r;s.push({startTime:e,endTime:i,labelWidth:n,left:r})}),s}}),Object.defineProperty(this,"getRootProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{let{style:i}=e;return{style:Object.assign({},i||{},{position:"relative",width:this.props.canvasWidth,height:this.props.height})}}}),Object.defineProperty(this,"getIntervalProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{let{interval:i,style:r}=e;if(!i)throw Error("you should provide interval to the prop getter");let{startTime:n,labelWidth:o,left:s}=i;return{style:{...r,left:s,width:o,position:"absolute"},key:`label-${n.valueOf()}`}}}),Object.defineProperty(this,"getStateAndHelpers",{enumerable:!0,configurable:!0,writable:!0,value:()=>{let{unit:e,showPeriod:i,headerData:r}=this.props;return{headerContext:{unit:e,intervals:this.state.intervals},getRootProps:this.getRootProps,getIntervalProps:this.getIntervalProps,showPeriod:i,data:r}}});let{canvasTimeStart:i,canvasTimeEnd:r,unit:n,timeSteps:o,getLeftOffsetFromDate:s}=e,a=this.getHeaderIntervals({canvasTimeStart:i,canvasTimeEnd:r,unit:n,timeSteps:o,getLeftOffsetFromDate:s});this.state={intervals:a}}componentDidUpdate(e){if(!ts(e,this.props)){let{canvasTimeStart:e,canvasTimeEnd:i,unit:r,timeSteps:n,getLeftOffsetFromDate:o}=this.props,s=this.getHeaderIntervals({canvasTimeStart:e,canvasTimeEnd:i,unit:r,timeSteps:n,getLeftOffsetFromDate:o});this.setState({intervals:s})}}render(){let e=this.getStateAndHelpers();return this.props.children(e)}}function ig({children:e,unit:i,headerData:r,height:n}){let{getTimelineState:o,showPeriod:s,getLeftOffsetFromDate:c}=(0,l.useContext)(tz),u=o(),{timeSteps:p}=is();return(0,a.jsx)(im,{children:e,timeSteps:p,showPeriod:s,unit:i||u.timelineUnit,...u,headerData:r,getLeftOffsetFromDate:c,height:n})}Object.defineProperty(im,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{height:30}});var ib=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function iy(e,i){if(e.length!==i.length)return!1;for(var r,n,o=0;o<e.length;o++)if(!((r=e[o])===(n=i[o])||ib(r)&&ib(n)))return!1;return!0}function ix(e,i){void 0===i&&(i=iy);var r=null;function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(r&&r.lastThis===this&&i(n,r.lastArgs))return r.lastResult;var s=e.apply(this,n);return r={lastResult:s,lastArgs:n,lastThis:this},s}return n.clear=function(){r=null},n}class iT extends l.PureComponent{constructor(){super(...arguments),Object.defineProperty(this,"onIntervalClick",{enumerable:!0,configurable:!0,writable:!0,value:()=>{let{primaryHeader:e,interval:i,unit:r,showPeriod:n}=this.props;if(e){let e=tm(r);n(i.startTime.clone().startOf(e),i.startTime.clone().endOf(e))}else n(i.startTime,i.endTime)}}),Object.defineProperty(this,"getIntervalProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>({...this.props.getIntervalProps({interval:this.props.interval,...e}),onClick:tp(this.onIntervalClick,e.onClick)})})}render(){let{intervalText:e,interval:i,intervalRenderer:r,headerData:n}=this.props;if(r)return r({getIntervalProps:this.getIntervalProps,intervalContext:{interval:i,intervalText:e},data:n});let{key:o,...s}=this.getIntervalProps();return(0,l.createElement)("div",{"data-testid":"dateHeaderInterval",...s,key:o,className:`rct-dateHeader ${this.props.primaryHeader?"rct-dateHeader-primary":""}`},(0,a.jsx)("span",{children:e}))}}function iw({headerContext:{intervals:e,unit:i},getRootProps:r,getIntervalProps:n,showPeriod:o,data:{style:s,intervalRenderer:l,className:c,getLabelFormat:u,unitProp:p,headerData:h}}){return(0,a.jsx)("div",{"data-testid":"dateHeader",className:c,...r({style:s}),children:e.map(e=>{let r=u([e.startTime,e.endTime],i,e.labelWidth);return(0,a.jsx)(iT,{unit:i,interval:e,showPeriod:o,intervalText:r,primaryHeader:"primaryHeader"===p,getIntervalProps:n,intervalRenderer:l,headerData:h},`label-${e.startTime.valueOf()}`)})})}class iS extends l.Component{constructor(){super(...arguments),Object.defineProperty(this,"getHeaderUnit",{enumerable:!0,configurable:!0,writable:!0,value:()=>"primaryHeader"===this.props.unit?tm(this.props.timelineUnit):this.props.unit?this.props.unit:this.props.timelineUnit}),Object.defineProperty(this,"getRootStyle",{enumerable:!0,configurable:!0,writable:!0,value:ix(e=>({height:30,...e}))}),Object.defineProperty(this,"getLabelFormat",{enumerable:!0,configurable:!0,writable:!0,value:(e,i,r)=>{let{labelFormat:n}=this.props;if("string"==typeof n)return e[0].format(n);if("function"==typeof n)return n(e,i,r);throw Error("labelFormat should be function or string")}}),Object.defineProperty(this,"getHeaderData",{enumerable:!0,configurable:!0,writable:!0,value:ix((e,i,r,n,o,s)=>({intervalRenderer:e,style:i,className:r,getLabelFormat:n,unitProp:o,headerData:s}))})}render(){let e=this.getHeaderUnit(),{height:i}=this.props;return(0,a.jsx)(ig,{children:iw,unit:e,height:i,headerData:this.getHeaderData(this.props.intervalRenderer,this.getRootStyle(this.props.style),this.props.className,this.getLabelFormat,this.props.unit,this.props.headerData)})}}function iO({labelFormat:e,unit:i,style:r,className:n,intervalRenderer:o,headerData:s,height:l}){return(0,a.jsx)(t_,{children:({getTimelineState:c})=>{let u=c();return(0,a.jsx)(iS,{timelineUnit:u.timelineUnit,unit:i,labelFormat:e||iE,style:r,className:n,intervalRenderer:o,headerData:s,height:l})}})}let iE=([e],i,r=150,n=ii)=>{let o;return o=r>=150?n[i].long:r>=100?n[i].mediumLong:r>=50?n[i].medium:n[i].short,e.format(o)};var iP={exports:{}};!function(e,i){var r;r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e.exports=function(e,i,n){var o=i.prototype,s=o.format;n.en.formats=r,o.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var i,n,o=this.$locale().formats,a=(i=e,n=void 0===o?{}:o,i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,i,o){var s=o&&o.toUpperCase();return i||n[o]||r[o]||n[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,i,r){return i||r.slice(1)})}));return s.call(this,a)}}}(iP);let iM=d(iP.exports);g.extend(iM);class ik extends l.Component{constructor(e){var i;super(e),Object.defineProperty(this,"getTimelineContext",{enumerable:!0,configurable:!0,writable:!0,value:()=>{let{width:e,visibleTimeStart:i,visibleTimeEnd:r,canvasTimeStart:n,canvasTimeEnd:o}=this.state;return{canvasWidth:e*this.props.buffer,timelineUnit:tf(r-i,e,this.props.timeSteps),timelineWidth:e,visibleTimeStart:i,visibleTimeEnd:r,canvasTimeStart:n,canvasTimeEnd:o}}}),Object.defineProperty(this,"getTimelineUnit",{enumerable:!0,configurable:!0,writable:!0,value:()=>{let{width:e,visibleTimeStart:i,visibleTimeEnd:r}=this.state,{timeSteps:n}=this.props;return tf(r-i,e,n)}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scrollComponent",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"scrollHeaderRef",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resize",{enumerable:!0,configurable:!0,writable:!0,value:(e=this.props)=>{var i;let{width:r}=(null==(i=this.container.current)?void 0:i.getBoundingClientRect())??{width:0},n=r-e.sidebarWidth-e.rightSidebarWidth,o=n*e.buffer,{dimensionItems:s,height:a,groupHeights:l,groupTops:c}=tx(e.items,e.groups,o,this.state.canvasTimeStart,this.state.canvasTimeEnd,e.keys,e.lineHeight,e.itemHeightRatio,e.stackItems,this.state.draggingItem,this.state.resizingItem,this.state.dragTime,this.state.resizingEdge,this.state.resizeTime,this.state.newGroupOrder);this.setState({width:n,dimensionItems:s,height:a,groupHeights:l,groupTops:c});let u=n*((e.buffer-1)/2);this.scrollComponent&&(this.scrollComponent.scrollLeft=u),this.scrollHeaderRef&&(this.scrollHeaderRef.scrollLeft=u)}}),Object.defineProperty(this,"onScroll",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var i,r;let n=this.state.width,o=this.state.canvasTimeStart,s=this.state.visibleTimeEnd-this.state.visibleTimeStart,a=o+s*e/n;(this.state.visibleTimeStart!==a||this.state.visibleTimeEnd!==a+s)&&(null==(r=(i=this.props).onTimeChange)||r.call(i,a,a+s,this.updateScrollCanvas,this.getTimelineUnit()))}}),Object.defineProperty(this,"updateScrollCanvas",{enumerable:!0,configurable:!0,writable:!0,value:(e,i,r=!1,n=this.props.items,o=this.props.groups)=>{this.setState(tw(e,i,r,n,o,this.props,this.state))}}),Object.defineProperty(this,"handleWheelZoom",{enumerable:!0,configurable:!0,writable:!0,value:(e,i,r)=>{this.changeZoom(1+e*r/500,i/this.state.width)}}),Object.defineProperty(this,"changeZoom",{enumerable:!0,configurable:!0,writable:!0,value:(e,i=.5)=>{let{minZoom:r,maxZoom:n}=this.props,o=this.state.visibleTimeEnd-this.state.visibleTimeStart,s=Math.min(Math.max(Math.round(o*e),r),n),a=Math.round(this.state.visibleTimeStart+(o-s)*i);this.props.onTimeChange&&this.props.onTimeChange(a,a+s,this.updateScrollCanvas,this.getTimelineUnit())}}),Object.defineProperty(this,"showPeriod",{enumerable:!0,configurable:!0,writable:!0,value:(e,i)=>{var r,n;let o=e.valueOf(),s=i.valueOf()-o;s<this.props.minZoom||null==(n=(r=this.props).onTimeChange)||n.call(r,o,o+s,this.updateScrollCanvas,this.getTimelineUnit())}}),Object.defineProperty(this,"selectItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,i,r)=>{if(this.isItemSelected(e)||this.props.itemTouchSendsClick&&"touch"===i){if(e&&this.props.onItemClick){let i=this.timeFromItemEvent(r);this.props.onItemClick(e,r,i)}}else if(this.setState({selectedItem:e}),e&&this.props.onItemSelect){let i=this.timeFromItemEvent(r);this.props.onItemSelect(e,r,i)}else null===e&&this.props.onItemDeselect&&this.props.onItemDeselect(r)}}),Object.defineProperty(this,"doubleClickItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,i)=>{if(this.props.onItemDoubleClick){let r=this.timeFromItemEvent(i);this.props.onItemDoubleClick(e,i,r)}}}),Object.defineProperty(this,"contextMenuClickItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,i)=>{if(this.props.onItemContextMenu){let r=this.timeFromItemEvent(i);this.props.onItemContextMenu(e,i,r)}}}),Object.defineProperty(this,"getTimeFromRowClickEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var i;let{dragSnap:r,buffer:n}=this.props,{width:o,canvasTimeStart:s,canvasTimeEnd:a}=this.state,{offsetX:l}=e.nativeEvent;return Math.floor(((a-(i=s))/(o*n)*l+i)/r)*r}}),Object.defineProperty(this,"timeFromItemEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{let{width:i,visibleTimeStart:r,visibleTimeEnd:n}=this.state,o=this.props.dragSnap,{left:s}=this.scrollComponent.getBoundingClientRect();return Math.floor(Math.round(r+(e.clientX-s)/i*(n-r))/o)*o}}),Object.defineProperty(this,"dragItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,i,r)=>{let n=this.props.groups[r],o=this.props.keys;this.setState({draggingItem:e,dragTime:i,newGroupOrder:r,dragGroupTitle:n?ta(n,o.groupLabelKey):""}),this.updatingItem({eventType:"move",itemId:e,time:i,newGroupOrder:r})}}),Object.defineProperty(this,"dropItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,i,r)=>{this.setState({draggingItem:null,dragTime:null,dragGroupTitle:null}),this.props.onItemMove&&this.props.onItemMove(e,i,r)}}),Object.defineProperty(this,"resizingItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,i,r)=>{this.setState({resizingItem:e,resizingEdge:r,resizeTime:i}),this.updatingItem({eventType:"resize",itemId:e,time:i,edge:r||void 0})}}),Object.defineProperty(this,"resizedItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,i,r,n)=>{this.setState({resizingItem:null,resizingEdge:null,resizeTime:null}),this.props.onItemResize&&0!==n&&this.props.onItemResize(e,i,r)}}),Object.defineProperty(this,"updatingItem",{enumerable:!0,configurable:!0,writable:!0,value:({eventType:e,itemId:i,time:r,edge:n,newGroupOrder:o})=>{this.props.onItemDrag&&("move"===e?this.props.onItemDrag({eventType:e,itemId:i,time:r,newGroupOrder:o}):this.props.onItemDrag({eventType:e,itemId:i,time:r,edge:n}))}}),Object.defineProperty(this,"handleRowClick",{enumerable:!0,configurable:!0,writable:!0,value:(e,i)=>{if(this.hasSelectedItem()&&this.selectItem(null,"click",e),null==this.props.onCanvasClick)return;let r=this.getTimeFromRowClickEvent(e),n=ta(this.props.groups[i],this.props.keys.groupIdKey);this.props.onCanvasClick(n,r,e)}}),Object.defineProperty(this,"handleRowDoubleClick",{enumerable:!0,configurable:!0,writable:!0,value:(e,i)=>{if(null==this.props.onCanvasDoubleClick)return;let r=this.getTimeFromRowClickEvent(e),n=ta(this.props.groups[i],this.props.keys.groupIdKey);this.props.onCanvasDoubleClick(n,r,e)}}),Object.defineProperty(this,"handleScrollContextMenu",{enumerable:!0,configurable:!0,writable:!0,value:(e,i)=>{if(null==this.props.onCanvasContextMenu)return;let r=this.getTimeFromRowClickEvent(e),n=ta(this.props.groups[i],this.props.keys.groupIdKey);this.props.onCanvasContextMenu&&(e.preventDefault(),this.props.onCanvasContextMenu(n,r,e))}}),Object.defineProperty(this,"handleHeaderRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.scrollHeaderRef=e,this.props.headerRef&&this.props.headerRef(e)}}),Object.defineProperty(this,"isTimelineHeader",{enumerable:!0,configurable:!0,writable:!0,value:e=>void 0!==e.type&&e.type.secretKey===iv.secretKey}),Object.defineProperty(this,"renderHeaders",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.props.children){let e;if(l.Children.map(this.props.children,i=>{this.isTimelineHeader(i)&&(e=i)}),e)return e}return(0,a.jsxs)(iv,{children:[(0,a.jsx)(iO,{unit:"primaryHeader"}),(0,a.jsx)(iO,{})]})}}),Object.defineProperty(this,"getScrollElementRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.props.scrollRef&&this.props.scrollRef(e),this.scrollComponent=e}}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:l.createRef()}),Object.defineProperty(this,"getBoundingClientRect",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.scrollComponent.getBoundingClientRect()}),Object.defineProperty(this,"calculateDropCoordinatesToTimeAndGroup",{enumerable:!0,configurable:!0,writable:!0,value:(e,i)=>{var r,n,o;let s=(r=this.state.width,r*this.props.buffer),a=(n=this.state.canvasTimeStart,o=this.state.canvasTimeEnd,(o-n)/s),l=(e-p(this.scrollComponent).offsetLeft+u(this.scrollComponent).scrollLeft)*a+this.state.canvasTimeStart,c=0;for(let e of this.state.groupTops)if(i>Number(e))c=this.state.groupTops.indexOf(e);else break;if(!this.props.dragSnap)return{time:l,groupIndex:c};let h=60*g().utcOffset()*1e3;return{time:Math.round(l/this.props.dragSnap)*this.props.dragSnap-h%this.props.dragSnap,groupIndex:c}}}),this.getSelected=this.getSelected.bind(this),this.hasSelectedItem=this.hasSelectedItem.bind(this),this.isItemSelected=this.isItemSelected.bind(this);let r=null,n=null;if(this.props.defaultTimeStart&&this.props.defaultTimeEnd)r=this.props.defaultTimeStart,n=this.props.defaultTimeEnd;else if(this.props.visibleTimeStart&&this.props.visibleTimeEnd)r=this.props.visibleTimeStart,n=this.props.visibleTimeEnd;else throw Error('You must provide either "defaultTimeStart" and "defaultTimeEnd" or "visibleTimeStart" and "visibleTimeEnd" to initialize the Timeline');let[o,s]=tT(r,n,e.buffer),c={width:1e3,visibleTimeStart:r,visibleTimeEnd:n,canvasTimeStart:o,canvasTimeEnd:s,selectedItem:null,dragTime:null,dragGroupTitle:null,resizeTime:null,resizingItem:null,resizingEdge:null,newGroupOrder:0},h=(i=c.width,i*e.buffer),{dimensionItems:d,height:f,groupHeights:v,groupTops:m}=tx(e.items,e.groups,h,c.canvasTimeStart,c.canvasTimeEnd,e.keys,e.lineHeight,e.itemHeightRatio,e.stackItems,c.draggingItem,c.resizingItem,c.dragTime,c.resizingEdge,c.resizeTime,c.newGroupOrder);c.dimensionItems=d,c.height=f,c.groupHeights=v,c.groupTops=m,this.state=c}componentDidMount(){this.resize(this.props),this.props.resizeDetector&&this.props.resizeDetector.addListener&&this.props.resizeDetector.addListener(this),it.addListener(this)}componentWillUnmount(){this.props.resizeDetector&&this.props.resizeDetector.addListener&&this.props.resizeDetector.removeListener(this),it.removeListener(this)}static getDerivedStateFromProps(e,i){var r;let{visibleTimeStart:n,visibleTimeEnd:o,items:s,groups:a}=e,l={items:s,groups:a},c=s!==i.items||a!==i.groups;return n&&o?Object.assign(l,tw(n,o,c,s,a,e,i)):c&&Object.assign(l,tx(s,a,(r=i.width,r*e.buffer),i.canvasTimeStart,i.canvasTimeEnd,e.keys,e.lineHeight,e.itemHeightRatio,e.stackItems,i.draggingItem,i.resizingItem,i.dragTime,i.resizingEdge,i.resizeTime,i.newGroupOrder)),l}componentDidUpdate(e,i){let r=this.state.visibleTimeEnd-this.state.visibleTimeStart,n=i.visibleTimeEnd-i.visibleTimeStart;this.props.onZoom&&r!==n&&this.props.onZoom(this.getTimelineContext(),this.getTimelineUnit()),this.props.onBoundsChange&&this.state.canvasTimeStart!==i.canvasTimeStart&&this.props.onBoundsChange(this.state.canvasTimeStart,this.state.canvasTimeStart+3*r);let o=Math.round(this.state.width*(this.state.visibleTimeStart-this.state.canvasTimeStart)/r);(Math.round(i.width*(i.visibleTimeStart-i.canvasTimeStart)/n)!==o||this.scrollComponent.scrollLeft!==o)&&(this.scrollComponent.scrollLeft=o,this.scrollHeaderRef.scrollLeft=o)}columns(e,i,r,n,o,s){var l;return(0,a.jsx)(tW,{canvasTimeStart:e,canvasTimeEnd:i,canvasWidth:r,lineCount:(null==(l=this.props.groups)?void 0:l.length)||0,minUnit:n,timeSteps:o,height:s,verticalLineClassNamesForTime:this.props.verticalLineClassNamesForTime})}rows(e,i,r){var n;return(0,a.jsx)(tU,{groups:r,canvasWidth:e,lineCount:(null==(n=this.props.groups)?void 0:n.length)||0,groupHeights:i,clickTolerance:this.props.clickTolerance,onRowClick:this.handleRowClick,onRowDoubleClick:this.handleRowDoubleClick,horizontalLineClassNamesForGroup:this.props.horizontalLineClassNamesForGroup,onRowContextClick:this.handleScrollContextMenu})}items({canvasTimeStart:e,canvasTimeEnd:i,canvasWidth:r,dimensionItems:n,groupTops:o}){return(0,a.jsx)(t$,{canvasTimeStart:e,canvasTimeEnd:i,canvasWidth:r,dimensionItems:n,groupTops:o,items:this.props.items,groups:this.props.groups,keys:this.props.keys,selectedItem:this.state.selectedItem||void 0,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,canChangeGroup:this.props.canChangeGroup,canMove:this.props.canMove,canResize:this.props.canResize,useResizeHandle:this.props.useResizeHandle,canSelect:this.props.canSelect,moveResizeValidator:this.props.moveResizeValidator,itemSelect:this.selectItem,itemDrag:this.dragItem,itemDrop:this.dropItem,onItemDoubleClick:this.doubleClickItem,onItemContextMenu:this.props.onItemContextMenu?this.contextMenuClickItem:void 0,itemResizing:this.resizingItem,itemResized:this.resizedItem,itemRenderer:this.props.itemRenderer,selected:this.props.selected,scrollRef:this.scrollComponent})}sidebar(e,i){let{sidebarWidth:r}=this.props;return r&&(0,a.jsx)(tA,{groups:this.props.groups,groupRenderer:this.props.groupRenderer,keys:this.props.keys,width:r,groupHeights:i,height:e})}rightSidebar(e,i){let{rightSidebarWidth:r}=this.props;return r&&(0,a.jsx)(tA,{groups:this.props.groups,keys:this.props.keys,groupRenderer:this.props.groupRenderer,isRightSidebar:!0,width:r,groupHeights:i,height:e})}childrenWithProps(e,i,r,n,o,s,a,c,u,p,h){if(!this.props.children)return null;let d=Array.isArray(this.props.children)?this.props.children.filter(e=>e):[this.props.children],f={canvasTimeStart:e,canvasTimeEnd:i,canvasWidth:r,visibleTimeStart:c,visibleTimeEnd:u,dimensionItems:n,items:this.props.items,groups:this.props.groups,keys:this.props.keys,groupHeights:o,groupTops:s,selected:this.getSelected(),height:a,minUnit:p,timeSteps:h};return l.Children.map(d,e=>this.isTimelineHeader(e)?null:l.cloneElement(e,f))}getSelected(){return this.state.selectedItem&&!this.props.selected?[this.state.selectedItem]:this.props.selected||[]}hasSelectedItem(){return Array.isArray(this.props.selected)?this.props.selected.length>0:!!this.state.selectedItem}isItemSelected(e){return this.getSelected().some(i=>i===e)}render(){let{items:e,groups:i,sidebarWidth:r,rightSidebarWidth:n,timeSteps:o,traditionalZoom:s,buffer:l}=this.props,{draggingItem:c,resizingItem:u,width:p,visibleTimeStart:h,visibleTimeEnd:d,canvasTimeStart:f,canvasTimeEnd:v}=this.state,{dimensionItems:m,height:g,groupHeights:b,groupTops:y}=this.state,x=p*l,T=tf(d-h,p,o);if(c||u){let r=tx(e,i,x,this.state.canvasTimeStart,this.state.canvasTimeEnd,this.props.keys,this.props.lineHeight,this.props.itemHeightRatio,this.props.stackItems,this.state.draggingItem,this.state.resizingItem,this.state.dragTime,this.state.resizingEdge,this.state.resizeTime,this.state.newGroupOrder);m=r.dimensionItems,g=r.height,b=r.groupHeights,y=r.groupTops}let w={height:`${g}px`};return(0,a.jsx)(tR,{visibleTimeStart:h,visibleTimeEnd:d,canvasTimeStart:f,canvasTimeEnd:v,canvasWidth:x,showPeriod:this.showPeriod,timelineUnit:T,timelineWidth:this.state.width,children:(0,a.jsx)(tZ,{children:(0,a.jsx)(io,{registerScroll:this.handleHeaderRef,timeSteps:o,leftSidebarWidth:this.props.sidebarWidth,rightSidebarWidth:this.props.rightSidebarWidth,children:(0,a.jsxs)("div",{style:this.props.style,ref:this.container,className:`react-calendar-timeline ${this.props.className}`,children:[this.renderHeaders(),(0,a.jsxs)("div",{style:w,className:"rct-outer",children:[r>0?this.sidebar(g,b):null,(0,a.jsx)(tN,{scrollRef:this.getScrollElementRef,width:p,height:g,onZoom:this.changeZoom,onWheelZoom:this.handleWheelZoom,traditionalZoom:!!s,onScroll:this.onScroll,children:(0,a.jsxs)(ie,{children:[this.columns(f,v,x,T,o,g),this.rows(x,b,i),this.items({canvasTimeStart:f,canvasTimeEnd:v,canvasWidth:x,dimensionItems:m,groupTops:y}),this.childrenWithProps(f,v,x,m,b,y,g,h,d,T,o)]})}),n>0?this.rightSidebar(g,b):null]})]})})})})}}Object.defineProperty(ik,"setDayjsLocale",{enumerable:!0,configurable:!0,writable:!0,value:g.locale}),Object.defineProperty(ik,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{sidebarWidth:150,rightSidebarWidth:0,dragSnap:9e5,minResizeWidth:20,lineHeight:30,itemHeightRatio:.65,buffer:3,minZoom:36e5,maxZoom:15778368e4,clickTolerance:3,canChangeGroup:!0,canMove:!0,canResize:"right",useResizeHandle:!1,canSelect:!0,stackItems:!1,traditionalZoom:!1,horizontalLineClassNamesForGroup:null,onItemMove:null,onItemResize:null,onItemClick:null,onItemSelect:null,onItemDeselect:null,onItemDrag:null,onCanvasClick:null,onItemDoubleClick:null,onItemContextMenu:null,onZoom:null,verticalLineClassNamesForTime:null,moveResizeValidator:null,dayBackground:null,defaultTimeStart:null,defaultTimeEnd:null,itemTouchSendsClick:!1,style:{},className:"",keys:{groupIdKey:"id",groupTitleKey:"title",groupRightTitleKey:"rightTitle",groupLabelKey:"title",itemIdKey:"id",itemTitleKey:"title",itemDivTitleKey:"title",itemGroupKey:"group",itemTimeStartKey:"start_time",itemTimeEndKey:"end_time"},timeSteps:{second:1,minute:1,hour:1,day:1,month:1,year:1},headerRef:()=>{},scrollRef:()=>{},visibleTimeStart:null,visibleTimeEnd:null,onTimeChange:function(e,i,r){r(e,i)},onBoundsChange:null,children:null,selected:null}});class iD extends l.Component{constructor(){super(...arguments),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"getMarker",{enumerable:!0,configurable:!0,writable:!0,value:null})}componentDidMount(){let{unsubscribe:e,getMarker:i}=this.props.subscribeMarker({type:s.Today,renderer:this.props.children,interval:this.props.interval});this.unsubscribe=e,this.getMarker=i}componentWillUnmount(){null!=this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}componentDidUpdate(e){if(e.interval!==this.props.interval&&this.getMarker){let e=this.getMarker();this.props.updateMarker({...e,interval:this.props.interval})}}render(){return null}}Object.defineProperty(iD,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{interval:1e4}}),l.Component,l.Component}}]);